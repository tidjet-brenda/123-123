(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{agZp:function(t,a,c){"use strict";c.r(a),c.d(a,"ActivateAccountModule",function(){return T});var i=c("3Pt+"),o=c("1G5W"),e=c("XNiG"),r=c("LhcL"),n=c("UnRD"),s=c("PVWW"),d=c("fXoL"),u=c("DD7I"),l=c("tyNb"),m=c("400s"),p=c("p4AF"),h=c("sYmb"),f=c("gPJw"),v=c("B9zo"),w=c("XiUz"),b=c("znSr"),x=c("7h/2"),g=c("EwFO"),C=c("kmnG"),A=c("qFsG"),Q=c("NFeN"),y=c("bTqV"),k=c("ofXK");function N(t,a){1&t&&(d.ic(0,"mat-hint",19),d.bd(1),d.vc(2,"translate"),d.hc()),2&t&&(d.Qb(1),d.dd(" ",d.wc(2,1,"authentification.required"),". "))}function B(t,a){1&t&&(d.ic(0,"mat-hint",19),d.bd(1),d.vc(2,"translate"),d.hc()),2&t&&(d.Qb(1),d.dd(" ",d.wc(2,1,"authentification.pwdLength"),". "))}function F(t,a){1&t&&(d.ic(0,"mat-hint",19),d.bd(1),d.vc(2,"translate"),d.hc()),2&t&&(d.Qb(1),d.dd(" ",d.wc(2,1,"authentification.pwdLength2"),". "))}function q(t,a){1&t&&(d.ic(0,"mat-error"),d.bd(1),d.vc(2,"translate"),d.hc()),2&t&&(d.Qb(1),d.dd(" ",d.wc(2,1,"authentification.required")," "))}function L(t,a){1&t&&(d.ic(0,"mat-error"),d.bd(1),d.vc(2,"translate"),d.hc()),2&t&&(d.Qb(1),d.dd(" ",d.wc(2,1,"authentification.pwdidentiq")," "))}const P=function(){return{delay:"300ms",x:"100%"}},S=function(t){return{value:"*",params:t}},z=function(t){return{"sirh-disabled-btn":t}},I=t=>{if(!t.parent||!t)return null;const a=t.parent.get("password"),c=t.parent.get("passwordConfirm");return a&&c?""===c.value||a.value===c.value?null:{passwordsNotMatching:!0}:null};let Z=(()=>{class t{constructor(t,a,c,o,s,d,u,l){this.userService=t,this.activatedRoute=a,this.formBuilder=c,this.authService=o,this.snackBarService=s,this.router=d,this.translateService=u,this.fuseLoaderTranslateService=l,this.hidePwd=!0,this.hidePwdC=!0,this.lastNameControl=new i.e("",[i.t.required,i.t.minLength(3)]),this.firstNameControl=new i.e("",[i.t.required,i.t.minLength(3)]),this.phoneControl=new i.e("",[i.t.required,i.t.minLength(3)]),this.emailControl=new i.e("",[i.t.required,i.t.pattern("^[a-zA-Z0-9._%+-]+@(?:[a-zA-Z0-9-]+\\.)+[a-zA-Z]{2,}$")]),this.passwordControl=new i.e("",[i.t.required,i.t.pattern("^(?=.*[0-9]{1})(?=.[a-z]*)(?=.*[A-Z]{1}).*$"),i.t.minLength(8)]),this.passwordConfirmControl=new i.e("",[i.t.required,I]),this.fuseLoaderTranslateService.loadTranslations(r.a,n.a),this.unsubscribeAll=new e.a,this.activatedRoute.queryParams.subscribe(t=>{t.key?this.datas=t:this.router.navigate(["/login"])}),this.initForm()}ngOnInit(){this.activateAccountForm.get("password").valueChanges.pipe(Object(o.a)(this.unsubscribeAll)).subscribe(()=>{this.activateAccountForm.get("passwordConfirm").updateValueAndValidity()})}ngOnDestroy(){this.unsubscribeAll.next(),this.unsubscribeAll.complete()}initForm(){this.activateAccountForm=this.formBuilder.group({lastName:this.lastNameControl,firstName:this.firstNameControl,phone:this.phoneControl,email:this.emailControl,password:this.passwordControl,passwordConfirm:this.passwordConfirmControl}),this.activateAccountForm.controls.firstName.setValue(this.datas.firstName),this.activateAccountForm.controls.lastName.setValue(this.datas.lastName),this.activateAccountForm.controls.phone.setValue(this.datas.phone),this.activateAccountForm.controls.email.setValue(this.datas.email),this.activateAccountForm.controls.firstName.disable(),this.activateAccountForm.controls.lastName.disable(),this.activateAccountForm.controls.phone.disable(),this.activateAccountForm.controls.email.disable()}activateAccount(){this.authService.activateAccount({key:this.datas.key,password:this.passwordControl.value}).subscribe(t=>{this.snackBarService.showSnackBar(this.translateService.instant("authentification.accountActivated"),this.snackBarService.succesSnackBarClass),this.router.navigate(["/login"])})}}return t.\u0275fac=function(a){return new(a||t)(d.cc(u.a),d.cc(l.a),d.cc(i.d),d.cc(m.a),d.cc(p.a),d.cc(l.g),d.cc(h.d),d.cc(f.a))},t.\u0275cmp=d.Wb({type:t,selectors:[["app-activate-account"]],decls:70,vars:58,consts:[["id","activate-account","fxLayout","row","fxLayoutAlign","start",1,"inner-scroll"],["id","activate-account-intro","fxFlex","","fxHide","","fxShow.gt-xs",""],["id","activate-account-form-wrapper","fusePerfectScrollbar",""],["id","activate-account-form"],["fxHide.gt-xs","",1,"logo"],["src","../../../../assets/images/logos/Calque 1.png","alt","Logo PORTAIL-EMPLOYE"],[1,"title"],["name","activate-accountForm","novalidate","","autocomplete","off",3,"formGroup"],["appearance","outline"],["matInput","",3,"formControl"],["matSuffix","",1,"secondary-text"],["matInput","",3,"type","formControl"],["mat-icon-button","","matSuffix","",3,"click"],["class","mat-error",4,"ngIf"],[4,"ngIf"],["mat-raised-button","","aria-label","CREATE AN ACCOUNT",1,"submit-button","sirh-validate-btn",3,"disabled","ngClass","click"],["fxLayout","column","fxLayoutAlign","center center",1,"activate-account"],[1,"text"],["routerLink","/login",1,"link"],[1,"mat-error"]],template:function(t,a){1&t&&(d.ic(0,"div",0),d.ic(1,"div",1),d.dc(2,"home-page"),d.hc(),d.ic(3,"div",2),d.ic(4,"div",3),d.ic(5,"div",4),d.dc(6,"img",5),d.hc(),d.ic(7,"div",6),d.bd(8),d.vc(9,"translate"),d.hc(),d.ic(10,"form",7),d.ic(11,"mat-form-field",8),d.ic(12,"mat-label"),d.bd(13),d.vc(14,"translate"),d.hc(),d.dc(15,"input",9),d.ic(16,"mat-icon",10),d.bd(17,"account_circle"),d.hc(),d.hc(),d.ic(18,"mat-form-field",8),d.ic(19,"mat-label"),d.bd(20),d.vc(21,"translate"),d.hc(),d.dc(22,"input",9),d.ic(23,"mat-icon",10),d.bd(24,"account_circle"),d.hc(),d.hc(),d.ic(25,"mat-form-field",8),d.ic(26,"mat-label"),d.bd(27),d.vc(28,"translate"),d.hc(),d.dc(29,"input",9),d.ic(30,"mat-icon",10),d.bd(31,"call"),d.hc(),d.hc(),d.ic(32,"mat-form-field",8),d.ic(33,"mat-label"),d.bd(34),d.vc(35,"translate"),d.hc(),d.dc(36,"input",9),d.ic(37,"mat-icon",10),d.bd(38,"mail"),d.hc(),d.hc(),d.ic(39,"mat-form-field",8),d.ic(40,"mat-label"),d.bd(41),d.vc(42,"translate"),d.hc(),d.dc(43,"input",11),d.ic(44,"button",12),d.qc("click",function(){return a.hidePwd=!a.hidePwd}),d.ic(45,"mat-icon"),d.bd(46),d.hc(),d.hc(),d.Zc(47,N,3,3,"mat-hint",13),d.Zc(48,B,3,3,"mat-hint",13),d.Zc(49,F,3,3,"mat-hint",13),d.hc(),d.ic(50,"mat-form-field",8),d.ic(51,"mat-label"),d.bd(52),d.vc(53,"translate"),d.hc(),d.dc(54,"input",11),d.ic(55,"button",12),d.qc("click",function(){return a.hidePwdC=!a.hidePwdC}),d.ic(56,"mat-icon"),d.bd(57),d.hc(),d.hc(),d.Zc(58,q,3,3,"mat-error",14),d.Zc(59,L,3,3,"mat-error",14),d.hc(),d.ic(60,"button",15),d.qc("click",function(){return a.activateAccount()}),d.bd(61),d.vc(62,"translate"),d.hc(),d.hc(),d.ic(63,"div",16),d.ic(64,"span",17),d.bd(65),d.vc(66,"translate"),d.hc(),d.ic(67,"a",18),d.bd(68),d.vc(69,"translate"),d.hc(),d.hc(),d.hc(),d.hc(),d.hc()),2&t&&(d.Qb(3),d.Bc("@animate",d.Ec(54,S,d.Dc(53,P))),d.Qb(5),d.cd(d.wc(9,33,"authentification.activateAccount")),d.Qb(2),d.Bc("formGroup",a.activateAccountForm),d.Qb(3),d.cd(d.wc(14,35,"authentification.firstName")),d.Qb(2),d.Bc("formControl",a.firstNameControl),d.Qb(5),d.cd(d.wc(21,37,"authentification.laststName")),d.Qb(2),d.Bc("formControl",a.lastNameControl),d.Qb(5),d.cd(d.wc(28,39,"authentification.telNum")),d.Qb(2),d.Bc("formControl",a.phoneControl),d.Qb(5),d.cd(d.wc(35,41,"authentification.adress")),d.Qb(2),d.Bc("formControl",a.emailControl),d.Qb(5),d.cd(d.wc(42,43,"authentification.pwd")),d.Qb(2),d.Bc("type",a.hidePwd?"password":"text")("formControl",a.passwordControl),d.Qb(1),d.Rb("aria-label","Hide password")("aria-pressed",a.hidePwd),d.Qb(2),d.cd(a.hidePwd?"visibility_off":"visibility"),d.Qb(1),d.Bc("ngIf",(a.passwordControl.dirty||a.passwordControl.touched)&&a.passwordControl.errors&&a.passwordControl.errors.required),d.Qb(1),d.Bc("ngIf",(a.passwordControl.dirty||a.passwordControl.touched)&&a.passwordControl.errors&&a.passwordControl.errors.minlength),d.Qb(1),d.Bc("ngIf",(a.passwordControl.dirty||a.passwordControl.touched)&&a.passwordControl.errors&&a.passwordControl.errors.pattern&&!((a.passwordControl.dirty||a.passwordControl.touched)&&a.passwordControl.errors&&a.passwordControl.errors.minlength)),d.Qb(3),d.cd(d.wc(53,45,"authentification.pwdConfirm")),d.Qb(2),d.Bc("type",a.hidePwdC?"password":"text")("formControl",a.passwordConfirmControl),d.Qb(1),d.Rb("aria-label","Hide passwordConfirm")("aria-pressed",a.hidePwdC),d.Qb(2),d.cd(a.hidePwdC?"visibility_off":"visibility"),d.Qb(1),d.Bc("ngIf",a.passwordConfirmControl.hasError("required")),d.Qb(1),d.Bc("ngIf",!a.passwordConfirmControl.hasError("required")&&a.passwordConfirmControl.hasError("passwordsNotMatching")),d.Qb(1),d.Bc("disabled",a.activateAccountForm.invalid)("ngClass",d.Ec(56,z,a.activateAccountForm.invalid)),d.Qb(1),d.dd(" ",d.wc(62,47,"authentification.activateAccountVerbe")," "),d.Qb(4),d.cd(d.wc(66,49,"authentification.haveAlredyAccount")),d.Qb(3),d.cd(d.wc(69,51,"authentification.getConnect")))},directives:[v.a,w.c,w.b,w.a,b.b,x.a,g.a,i.u,i.p,i.i,C.c,C.g,A.b,i.c,i.o,i.f,Q.a,C.h,y.b,k.n,k.k,b.a,l.i,C.f,C.b],pipes:[h.c],styles:['#activate-account{width:100%;height:100%;overflow:hidden;background:url(/assets/images/backgrounds/dark-material-bg.jpg) no-repeat;background-size:cover}#activate-account #activate-account-intro{color:#fff}#activate-account #activate-account-intro .logo{width:128px;margin-bottom:32px}#activate-account #activate-account-intro .title{font-size:42px;font-weight:600;line-height:1}#activate-account #activate-account-intro .description{padding-top:16px;font-size:14px;max-width:600px}#activate-account #activate-account-form-wrapper{width:400px;min-width:400px;max-width:400px;background:#fff;height:100%;overflow:auto;-webkit-overflow-scrolling:touch;box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}@media screen and (min-width:600px) and (max-width:959px){#activate-account #activate-account-form-wrapper{width:360px;min-width:360px;max-width:360px}}@media screen and (max-width:599px){#activate-account #activate-account-form-wrapper{width:100%;min-width:100%;max-width:100%}}#activate-account #activate-account-form-wrapper #activate-account-form{padding:48px}@media screen and (max-width:599px){#activate-account #activate-account-form-wrapper #activate-account-form{text-align:center;padding:24px}}#activate-account #activate-account-form-wrapper #activate-account-form .logo{width:128px;margin:32px auto}#activate-account #activate-account-form-wrapper #activate-account-form .title{font-size:21px;text-align:center;margin-bottom:15px}#activate-account #activate-account-form-wrapper #activate-account-form .description{padding-top:8px}#activate-account #activate-account-form-wrapper #activate-account-form form{width:100%;padding-top:32px}#activate-account #activate-account-form-wrapper #activate-account-form form mat-form-field{width:100%}@media screen and (max-width:599px){#activate-account #activate-account-form-wrapper #activate-account-form form mat-form-field{width:80%}}#activate-account #activate-account-form-wrapper #activate-account-form form mat-checkbox{margin:0}#activate-account #activate-account-form-wrapper #activate-account-form form .terms{margin:16px 0 32px}#activate-account #activate-account-form-wrapper #activate-account-form form .terms a{font-size:16px;margin-left:4px}#activate-account #activate-account-form-wrapper #activate-account-form form .submit-button{width:100%;margin:16px auto;display:block}@media screen and (max-width:599px){#activate-account #activate-account-form-wrapper #activate-account-form form .submit-button{width:80%}}#activate-account #activate-account-form-wrapper #activate-account-form .separator{font-size:15px;font-weight:600;margin:24px auto;position:relative;overflow:hidden;width:100px;text-align:center}#activate-account #activate-account-form-wrapper #activate-account-form .separator .text{display:inline-flex;position:relative;padding:0 8px;z-index:9999}#activate-account #activate-account-form-wrapper #activate-account-form .separator .text:after,#activate-account #activate-account-form-wrapper #activate-account-form .separator .text:before{content:"";display:block;width:30px;position:absolute;top:10px;border-top:1px solid}#activate-account #activate-account-form-wrapper #activate-account-form .separator .text:before{right:100%}#activate-account #activate-account-form-wrapper #activate-account-form .separator .text:after{left:100%}'],encapsulation:2,data:{animation:s.a}}),t})();var E=c("5HBU"),V=c("bSwM"),O=c("jg9X");const R=[{path:"",component:Z}];let T=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=d.ac({type:t}),t.\u0275inj=d.Zb({imports:[[l.j.forChild(R),y.c,V.b,C.e,Q.b,A.c,O.a,E.a,h.b]]}),t})()}}]);