(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{ULSN:function(t,e,n){"use strict";n.r(e),n.d(e,"AbsenceModule",function(){return _t});var o=n("sYmb"),a=n("5HBU"),c=n("tyNb");const i={lang:"fr",data:{absence:{absences:"Absence(s)",editAbsenceQuery:"Modifier une demande d'absence",addAbsenceQuery:"Ajouter une demande d'absence",beginDate:"Date de d\xe9but",requiedField:"Champ obligaoire",halfDay:" Demi journ\xe9e",endDate:"Date de fin",incorrectDate:"Date non valide",duration:"Dur\xe9e",absenceReason:"Motif de l'absence",OtherReason:"Autre raison",calculateLeave:"Comptabiliser dans le calcul du cong\xe9",justified:"Justifi\xe9e",proof:"Justificatif",validate:"Valider",cancel:"Annuler",createSnackMessage:"Votre demande d'absence a \xe9t\xe9 ajout\xe9e avec succ\xe8s",updateSnackMessage:"Mise \xe0 jour d'absence effectu\xe9e avec succ\xe8s",queryStatus:"Statut de la demande",note:"Note",refusalReason:"Motif du refus",edit:"Modifier",delete:"Supprimer",ILLNESS:"Maladie",DEATH:"D\xe9c\xe9s",MARRIAGE:"Mariage",BIRTH:"Naissance",OTHER:"Autre",true:"Oui",false:"Non",ConfirmDeleteMsg:"\xcates-vous s\xfbr de vouloir supprimer cette demande d'absence?",ACCEPTED:"Accept\xe9e",DENIED:"Refus\xe9e",WAITING:"En attente",TO_CANCEL:"En attente d'annulation",ConfirmCancelRequestMsg:"\xcates-vous s\xfbr de vouloir annuler votre absence ?",absenceRequestDeleted:"La demande d'absence a \xe9t\xe9 supprim\xe9e avec succ\xe8s",absenceRequestToCancel:"La demande d'annulation d'absence a \xe9t\xe9 envoy\xe9e avec succ\xe8s",absenceManagement:"Gestion des absences",allAbsences:"Toutes les absences",add:"Ajouter",period:"P\xe9riode absence",status:{WAITING:"En Attente",ACCEPTED:"Accept\xe9e",DENIED:"Refus\xe9e",TO_CANCEL:"A annuler"},messages:{deleteTreatedAbsence:"Une erreur est survenue, une demande trait\xe9e ne peut pas \xeatre supprim\xe9e ",noRequests:"Vous n'avez aucune demande d'absence "}}}},r={lang:"dz",data:{absence:{absences:"Absence(s)",editAbsenceQuery:"Modifier une demande d'absence",addAbsenceQuery:"Ajouter une demande d'absence",beginDate:"Date de d\xe9but",requiedField:"Champ obligaoire",halfDay:" Demi journ\xe9e",endDate:"Date de fin",incorrectDate:"Date incorrecte",duration:"Dur\xe9e",absenceReason:"Motif de l'absence",OtherReason:"Autre raison",calculateLeave:"Comptabiliser dans le calcul du cong\xe9",justified:"Justifi\xe9e",proof:"Justificatif",validate:"Valider",cancel:"Annuler",createSnackMessage:"Votre demande d'absence a \xe9t\xe9 ajout\xe9e avec succ\xe8s",updateSnackMessage:"Mise \xe0 jour d'absence effectu\xe9e avec succ\xe8s",queryStatus:"Statut de la demande",note:"Note",refusalReason:"Motif du refus",edit:"Modifier",delete:"Supprimer",ILLNESS:"Maladie",DEATH:"D\xe9c\xe9s",MARRIAGE:"Mariage",BIRTH:"Naissance",OTHER:"Autre",true:"Oui",false:"Non",ConfirmDeleteMsg:"\xcates vous s\xfbr de vouloir supprimer cette demande d'absence?",ACCEPTED:"Accept\xe9e",DENIED:"Refus\xe9e",WAITING:"En attente",TO_CANCEL:"En attente d'annulation",ConfirmCancelRequestMsg:"\xcates vous s\xfbr de vouloir annuler votre absence ?",absenceRequestDeleted:"La demande d'absence a \xe9t\xe9 supprim\xe9e avec succ\xe8s",absenceRequestToCancel:"La demande d'annulation d'absence a \xe9t\xe9 envoy\xe9e avec succ\xe8s",absenceManagement:"Gestion des absences",allAbsences:"Toutes les absences",add:"Ajouter",status:{WAITING:"En Attente",ACCEPTED:"Accept\xe9e",DENIED:"Refus\xe9e",TO_CANCEL:"A annuler"},messages:{deleteTreatedAbsence:"Une erreur est survenue,Une demande trait\xe9e ne peut pas \xeatre supprim\xe9e ",noRequests:"Vous n'avez aucune demande d'absence "}}}};var s=n("fXoL"),d=n("gPJw"),l=n("EwFO"),g=n("XiUz"),u=n("wZkO"),b=n("3Pt+"),p=n("wd/R"),h=n("JthR"),f=n("N4rB"),C=n("AytR"),m=n("tk/3");let M=(()=>{class t{constructor(t){this.http=t}getAllAbsences(t,e,n,o,a,c,i,r){return this.http.get(C.a.ENDPOINTS.COMPANY_MANAGEMENT_COMPANY_URL+`/${a}/absences/mine`+`?size=${e}&page=${t}&sort=${n},${o}`+(c?`&status=${c}`:"")+(i?`&startDate=${i}`:"")+(r?`&endDate=${r}`:""),{observe:"response"})}getAbsenceById(t,e){return this.http.get(C.a.ENDPOINTS.COMPANY_MANAGEMENT_COMPANY_URL+`/${t}`+C.a.ENDPOINTS.GET_SINGLE_ABSENCE_URL+`/${e}/mine`)}createAbsence(t,e){return this.http.post(C.a.ENDPOINTS.COMPANY_MANAGEMENT_COMPANY_URL+`/${t}`+C.a.ENDPOINTS.GET_ABSENCE_URL,e)}deleteAbsenceRequest(t,e){return this.http.delete(C.a.ENDPOINTS.COMPANY_MANAGEMENT_COMPANY_URL+`/${t}`+C.a.ENDPOINTS.GET_SINGLE_ABSENCE_URL+`/${e}/mine`)}updateAbsence(t,e,n){return this.http.put(C.a.ENDPOINTS.COMPANY_MANAGEMENT_COMPANY_URL+`/${t}`+C.a.ENDPOINTS.GET_SINGLE_ABSENCE_URL+`/${e}/mine`,n)}askToCancelAcceptedAbsenceRequest(t,e){return this.http.post(C.a.ENDPOINTS.COMPANY_MANAGEMENT_COMPANY_URL+`/${t}`+C.a.ENDPOINTS.GET_SINGLE_ABSENCE_URL+`/${e}/mine/cancel`,{})}getCompanyWeekEndDays(t){return this.http.get(C.a.ENDPOINTS.COMPANY_MANAGEMENT_COMPANY_URL+`/${t}`+C.a.ENDPOINTS.WEEK_END_DAYS)}getDayIndex(t){let e;switch(t){case"SUNDAY":e=0;break;case"MONDAY":e=1;break;case"TUESDAY":e=2;break;case"WEDNESDAY":e=3;break;case"THURSDAY":e=4;break;case"FRIDAY":e=5;break;case"SATURDAY":e=6}return e}getdayCountBetweenDates(t,e,n){let o=0;for(const a=new Date(e);a<=new Date(n);a.setDate(a.getDate()+1))a.getDay()===t&&o++;return o}}return t.\u0275fac=function(e){return new(e||t)(s.mc(m.b))},t.\u0275prov=s.Yb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var _=n("0IaG"),O=n("p4AF"),P=n("kmnG"),x=n("iadO"),v=n("ofXK"),w=n("znSr"),y=n("NFeN"),D=n("bTqV"),I=n("9fvp");const A=function(t){return{cursor:t}},S=function(t){return{color:t}};let E=(()=>{class t{constructor(t,e,n,o,a,c,d){this.router=t,this.absenceService=e,this.dialog=n,this.route=o,this.snackBarService=a,this.translateService=c,this.fuseLoaderTranslateService=d,this.nbrAbsencesWaitingEmitter=new s.r,this.searchControl=new b.e,this.selectedOption=0,this.sort="startDate",this.direction="desc",this.iteration=1,this.date=new b.e({disabled:!0,value:{begin:null,end:null}}),this.startDate=null,this.endDate=null,this.dateFormGroup=new b.h({begin:new b.e,end:new b.e}),this.index=0,this.isClear=!1,this.route.queryParams.subscribe(t=>{this.pageIndex=t.page?t.page-1:0}),this.fuseLoaderTranslateService.loadTranslations(i,r),this.companyId=h.a.getEmployeeCompanyId(),this.getScreenSize(),this.getLeaveOnWaiting()}ngOnInit(){this.initTable(),window.addEventListener("resize",t=>{this.getScreenSize()}),this.getAllAbsences(),this.onChangeFiltreDate()}rowSelected(t){this.router.navigate(["absence",t.id,"view"],{queryParams:{selectedTab:this.selectedTab}})}initTable(){this.unite=this.translateService.instant("absence.absences"),this.pageCount=10,this.isMobile?(this.columns=[{name:"startDateToEndDtate",prop:"beginDateEndDate",sortable:!1,minWidth:150}],this.actions=null):this.columns=[{name:"reason",prop:"reason"},{name:"startDateToEndDtate",prop:"beginDateEndDate",sortable:!1},{name:"justified",prop:"justified"},{name:"status",prop:"status",items:[this.translateService.instant("absence.status.WAITING"),this.translateService.instant("absence.status.ACCEPTED"),this.translateService.instant("absence.status.DENIED"),this.translateService.instant("absence.status.TO_CANCEL")]}],this.actions=[{label:"view",icon:"pageview",showInRead:!0},{label:"cancel",icon:"close",showInRead:!1},{label:"edit",icon:"edit",showInRead:!1},{label:"delete",icon:"delete_forever",showInRead:!1}]}actionOnTable(t){switch(t.actionType){case"view":this.router.navigate(["absence",t.row.id,"view"],{queryParams:{selectedTab:this.selectedTab,page:this.pageIndex+1}});break;case"cancel":this.deleteAbsence(t.row.id);break;case"edit":this.router.navigate(["absence",t.row.id,"edit"],{queryParams:{selectedTab:this.selectedTab,page:this.pageIndex+1}});break;case"delete":"WAITING"!==t.row.status?this.snackBarService.showSnackBar(this.translateService.instant("absence.messages.deleteTreatedAbsence"),this.snackBarService.errorSnackBarClass):this.deleteAbsence(t.row.id,!0)}}initUrlParam(){this.router.navigate([],{relativeTo:this.route,queryParams:{page:this.pageIndex+1},queryParamsHandling:"merge"})}addNew(){this.router.navigate(["absence","new"],{queryParams:{page:this.pageIndex+1}})}getAllAbsences(){this.absenceService.getAllAbsences(this.pageIndex,this.pageCount,this.sort,this.direction,this.companyId,this.filterStatus,this.startDate,this.endDate).subscribe(t=>{this.rows=t.body,this.noRequests=this.filterStatus&&0===this.rows.length?this.translateService.instant("absence.messages.noRequests")+this.translateService.instant("absence.status."+this.filterStatus):"",this.totalItems=null!==t.headers.get("X-Total-Count")?+t.headers.get("X-Total-Count"):0,this.rows.map(t=>{t.duration=this.setDuration(t.startDate,t.endDate,t.halfDayInBeginDate,t.halfDayInEndDate),t.startDate=p(t.startDate).format("DD/MM/YYYY"),t.endDate=p(t.endDate).format("DD/MM/YYYY"),t.beginDateEndDate=t.startDate+"-"+t.endDate+" ("+t.duration+")",t.justified=this.translateService.instant("absence."+t.justified),t.reason=this.translateService.instant("absence."+t.reason)}),setTimeout(()=>{document.getElementById("main").click()},100)})}deleteAbsence(t,e){const n=this.translateService.instant(e?"absence.ConfirmDeleteMsg":"absence.ConfirmCancelRequestMsg"),o=[{text:this.translateService.instant("absence.true"),value:!0},{text:this.translateService.instant("absence.false"),value:!1}];this.dialog.open(f.a,{data:{options:o,message:n}}).afterClosed().subscribe(n=>{n&&!0===n&&(e?this.absenceService.deleteAbsenceRequest(this.companyId,t).subscribe(t=>{this.afterDeleteOrCancelRequest(e)}):this.afterDeleteOrCancelRequest(e))})}afterDeleteOrCancelRequest(t){this.snackBarService.showSnackBar(this.translateService.instant(t?"absence.absenceRequestDeleted":"absence.absenceRequestToCancel"),this.snackBarService.succesSnackBarClass),this.getAllAbsences()}onRowSelection(t){this.router.navigate(["absence",t.id,"view"],{queryParams:{page:this.pageIndex+1}})}changePage(t){this.pageIndex=t,this.initUrlParam(),this.getAllAbsences()}sortData(t){this.sort=t.item,this.direction=t.direction,this.initUrlParam(),this.getAllAbsences()}setDuration(t,e,n,o){const a=p(t),c=p(e);let i=p.duration(c.diff(a)).asDays()+1;return n&&(i-=.5),o&&(i-=.5),i>0?i+"jours":i+"jour"}changeFilter(t){switch(t){case 0:this.filterStatus="WAITING";break;case 1:this.filterStatus="ACCEPTED";break;case 2:this.filterStatus="DENIED";break;case 3:this.filterStatus="TO_CANCEL";break;default:this.filterStatus=null}this.initUrlParam(),this.getAllAbsences()}getScreenSize(){this.width=window.innerWidth,this.height=window.innerHeight,this.isMobile=this.width<600,this.initTable()}getLeaveOnWaiting(){this.absenceService.getAllAbsences(this.pageIndex,0,this.sort,this.direction,this.companyId,"WAITING").subscribe(t=>{this.nbrAbsencesWaiting=t.body.length,this.nbrAbsencesWaitingEmitter.emit(this.nbrAbsencesWaiting)})}onChangeFiltreDate(){this.dateFormGroup.controls.begin.valueChanges.subscribe(t=>{this.startDate=t?p(t).format("YYYY-MM-DD"):null}),this.dateFormGroup.controls.end.valueChanges.subscribe(t=>{t&&this.index%2==0&&!this.isClear?(this.index=0,this.endDate=p(t).format("YYYY-MM-DD"),this.pageIndex=0,this.router.navigate(["absence"],{queryParams:{page:this.pageIndex+1}}),this.getAllAbsences()):!t&&this.index%2==0&&this.isClear&&(this.endDate=null,this.isClear=!1,this.getAllAbsences())})}clearDate(){this.isClear=!0,this.dateFormGroup.controls.begin.setValue(null),this.dateFormGroup.controls.end.setValue(null),this.pageIndex=0,this.router.navigate(["absence"],{queryParams:{page:this.pageIndex+1}})}}return t.\u0275fac=function(e){return new(e||t)(s.cc(c.g),s.cc(M),s.cc(_.b),s.cc(c.a),s.cc(O.a),s.cc(o.d),s.cc(d.a))},t.\u0275cmp=s.Wb({type:t,selectors:[["app-view-all-absences"]],inputs:{selectedTab:"selectedTab"},outputs:{nbrAbsencesWaitingEmitter:"nbrAbsencesWaitingEmitter"},decls:26,vars:28,consts:[["id","about","fxLayout","row wrap"],["fxLayout","column","fxFlex","100",1,"about-content"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","49",1,"filter"],["appearance","outline",1,"custom-date-absence",2,"width","100%"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","begin","placeholder","Dat\xe9 d\xe9but",3,"readOnly"],["matEndDate","","formControlName","end","placeholder","date fin",3,"readOnly"],["fxFlex","10",2,"background-color","transparent","border","none","cursor","pointer",3,"disabled","ngStyle","click"],[2,"font-size","14px","color","gray","position","relative","top","4px",3,"ngStyle"],["matSuffix","",3,"for"],["picker",""],[2,"margin-right","5px"],["mat-raised-button","",1,"footer-button","sirh-add-btn",3,"click"],[1,"icon-button"],[1,"table"],[3,"columns","unite","rows","statusStatus","pageCount","totalItems","pageIndex","actions","isLeaveFilter","noRequests","emitActionOnTable","rowSelected","changePage","sortData","singleFilter"]],template:function(t,e){if(1&t&&(s.ic(0,"div",0),s.ic(1,"div",1),s.ic(2,"div",2),s.ic(3,"div",3),s.ic(4,"mat-form-field",4),s.ic(5,"mat-label"),s.bd(6),s.vc(7,"translate"),s.hc(),s.ic(8,"mat-date-range-input",5),s.dc(9,"input",6),s.dc(10,"input",7),s.hc(),s.ic(11,"button",8),s.qc("click",function(){return e.clearDate()}),s.ic(12,"mat-icon",9),s.bd(13,"close"),s.hc(),s.hc(),s.dc(14,"mat-datepicker-toggle",10),s.dc(15,"mat-date-range-picker",null,11),s.hc(),s.hc(),s.dc(17,"div"),s.ic(18,"div",12),s.ic(19,"button",13),s.qc("click",function(){return e.addNew()}),s.ic(20,"mat-icon",14),s.bd(21,"add"),s.hc(),s.bd(22),s.vc(23,"translate"),s.hc(),s.hc(),s.hc(),s.ic(24,"div",15),s.ic(25,"app-docs-components-third-party-ngx-datatable",16),s.qc("emitActionOnTable",function(t){return e.actionOnTable(t)})("rowSelected",function(t){return e.onRowSelection(t)})("changePage",function(t){return e.changePage(t)})("sortData",function(t){return e.sortData(t)})("singleFilter",function(t){return e.changeFilter(t)}),s.hc(),s.hc(),s.hc(),s.hc()),2&t){const t=s.Nc(16);s.Qb(6),s.dd(" ",s.wc(7,20,"absence.period")," "),s.Qb(2),s.Bc("formGroup",e.dateFormGroup)("rangePicker",t),s.Qb(1),s.Bc("readOnly",!0),s.Qb(1),s.Bc("readOnly",!0),s.Qb(1),s.Bc("disabled",!(e.dateFormGroup.controls.begin.value&&e.dateFormGroup.controls.end.value))("ngStyle",s.Ec(24,A,e.dateFormGroup.controls.begin.value&&e.dateFormGroup.controls.end.value?"pointer":"auto")),s.Qb(1),s.Bc("ngStyle",s.Ec(26,S,e.dateFormGroup.controls.begin.value&&e.dateFormGroup.controls.end.value?"gray":"transparent")),s.Qb(2),s.Bc("for",t),s.Qb(8),s.dd(" ",s.wc(23,22,"absence.add")," "),s.Qb(3),s.Bc("columns",e.columns)("unite",e.unite)("rows",e.rows)("statusStatus",!0)("pageCount",e.pageCount)("totalItems",e.totalItems)("pageIndex",e.pageIndex)("actions",e.actions)("isLeaveFilter",!0)("noRequests",e.noRequests)}},directives:[g.c,g.a,g.b,P.c,P.g,x.a,b.p,b.i,x.h,b.c,b.o,b.g,x.g,v.o,w.c,y.a,x.f,P.h,x.b,D.b,I.a],pipes:[o.c],styles:["#about[_ngcontent-%COMP%]{margin:auto}#about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .general[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .first_div[_ngcontent-%COMP%], #about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .general[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .second_div[_ngcontent-%COMP%]{width:45%}#about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .general[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .calssInput[_ngcontent-%COMP%]{width:100%}@media (max-width:800px){#about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .general[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .first_div[_ngcontent-%COMP%], #about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .general[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .second_div[_ngcontent-%COMP%]{width:49%}#about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .general[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .calssInput[_ngcontent-%COMP%]{width:100%}}@media (max-width:600px){#about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .general[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;justify-content:stretch flex-start!important}#about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .general[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .second_div[_ngcontent-%COMP%]{width:100%;margin-top:24px}#about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .general[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .calssInput[_ngcontent-%COMP%], #about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .general[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .first_div[_ngcontent-%COMP%]{width:100%}#about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .general[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .editForm[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;justify-content:stretch flex-start!important}}#about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .general[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{line-height:13px!important}#about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .work[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .company[_ngcontent-%COMP%]{padding:0 16px 0 0;font-weight:600}#about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .footer-btns[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}#about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .footer-btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:0!important}#about[_ngcontent-%COMP%]   .about-sidebar[_ngcontent-%COMP%]{padding-left:32px}@media screen and (min-width:600px) and (max-width:959px){#about[_ngcontent-%COMP%]   .about-sidebar[_ngcontent-%COMP%]{padding:8px}}#about[_ngcontent-%COMP%]   .about-sidebar[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .friend[_ngcontent-%COMP%]{padding:4px}#about[_ngcontent-%COMP%]   .about-sidebar[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .friend[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:4px}#about[_ngcontent-%COMP%]   .about-sidebar[_ngcontent-%COMP%]   .groups[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{margin-bottom:24px}#about[_ngcontent-%COMP%]   .about-sidebar[_ngcontent-%COMP%]   .groups[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]:last-child{margin-bottom:0}#about[_ngcontent-%COMP%]   .about-sidebar[_ngcontent-%COMP%]   .groups[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:48px;height:48px;font-size:21px;line-height:normal;border-radius:50%;margin-right:16px}#about[_ngcontent-%COMP%]   .about-sidebar[_ngcontent-%COMP%]   .groups[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:600;font-size:15px}#about[_ngcontent-%COMP%]   .about-sidebar[_ngcontent-%COMP%]   .groups[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .members[_ngcontent-%COMP%]{margin-top:8px}.profile-box[_ngcontent-%COMP%]{border-radius:4px;overflow:hidden;margin-bottom:16px;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.profile-box[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{padding:16px}.profile-box[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:17px}.profile-box[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{cursor:pointer}.profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:16px}.profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .editForm[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .editForm[_ngcontent-%COMP%]   .second_div[_ngcontent-%COMP%]{margin-top:0}.profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .editForm[_ngcontent-%COMP%]   .first_div[_ngcontent-%COMP%], .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .editForm[_ngcontent-%COMP%]   .second_div[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:45%}.profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .editForm[_ngcontent-%COMP%]   .calssInput[_ngcontent-%COMP%]{width:100%}@media (max-width:800px){.profile-box[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:row;justify-content:space-between flex-start}.profile-box[_ngcontent-%COMP%]   .editForm[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.profile-box[_ngcontent-%COMP%]   .editForm[_ngcontent-%COMP%]   .second_div[_ngcontent-%COMP%]{margin-top:0!important}.profile-box[_ngcontent-%COMP%]   .editForm[_ngcontent-%COMP%]   .first_div[_ngcontent-%COMP%], .profile-box[_ngcontent-%COMP%]   .editForm[_ngcontent-%COMP%]   .second_div[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:49%}.profile-box[_ngcontent-%COMP%]   .editForm[_ngcontent-%COMP%]   .calssInput[_ngcontent-%COMP%]{width:100%}}@media (max-width:600px){.profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:stretch flex-start}.profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .second_div[_ngcontent-%COMP%]{width:100%;margin-top:0!important}.profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .calssInput[_ngcontent-%COMP%], .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .first_div[_ngcontent-%COMP%]{width:100%}.profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .editForm[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:stretch}}.profile-box[_ngcontent-%COMP%]   .secondary-text[_ngcontent-%COMP%]{min-width:100px;text-align:right}.profile-box[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{padding:8px;border-top:1px solid}.profile-box.info-box[_ngcontent-%COMP%]   .info-line[_ngcontent-%COMP%]{margin-bottom:24px}.profile-box.info-box[_ngcontent-%COMP%]   .info-line[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:15px;font-weight:600;padding-bottom:4px}.profile-box.info-box[_ngcontent-%COMP%]   .info-line[_ngcontent-%COMP%]:last-child{margin-bottom:0}  .mat-form-field-wrapper{width:100%!important}.fields-container[_ngcontent-%COMP%]{padding:17px 18px;margin-bottom:-19px}.add-btn[_ngcontent-%COMP%]{padding:5px 45px}.footerTab[_ngcontent-%COMP%]{padding:20px}.footer-button[_ngcontent-%COMP%]{padding:1px 10px!important;margin-right:5px}.icon-button[_ngcontent-%COMP%]{font-size:20px}.btn-disabled[_ngcontent-%COMP%]{box-shadow:0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)!important;background-color:rgba(0,0,0,.12)!important;color:rgba(0,0,0,.26)!important}#about[_ngcontent-%COMP%]{overflow-y:auto}.custom-date-absence[_ngcontent-%COMP%]{position:relative;bottom:0;padding-left:10px;padding-top:15px}@media (max-width:600px){.custom-date-absence[_ngcontent-%COMP%]{width:90%!important;text-align:center!important;margin:10px!important}.custom-date-absence[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%!important}}  .custom-date-absence .mat-form-field-flex>.mat-form-field-infix{padding:.31em 0!important}  .custom-date-absence .mat-form-field-flex>.mat-form-field-infix>button{position:relative;bottom:3px}  .mat-form-field-label-wrapper{top:-1.5em}  .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{transform:translateY(-1.1em) scale(.75);width:133.33333%}  .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon,   input.mat-input-element{position:relative;bottom:4px}  .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{position:relative;bottom:2px} .mat-form-field-hide-placeholder .mat-form-field-label{position:absolute;top:32px} .mat-form-field.mat-form-field-type-mat-select .mat-form-field-infix .mat-select-trigger{position:relative;bottom:4px}"]}),t})();var k=n("TU8p");function N(t,e){if(1&t&&(s.ic(0,"span"),s.bd(1),s.vc(2,"translate"),s.hc(),s.dc(3,"span",8)),2&t){const t=s.uc();s.Qb(1),s.cd(s.wc(2,2,"absence.allAbsences")),s.Qb(2),s.Bc("matBadge",t.nbrAbsencesWaitting)}}let B=(()=>{class t{constructor(t,e){this.translateService=t,this.fuseLoaderTranslateService=e,this.selectedTab=0,this.currentYear=new Date,this.error=!0}ngOnInit(){this.fuseLoaderTranslateService.loadTranslations(i,r)}changeNbrAbcences(t){this.nbrAbsencesWaitting=t}}return t.\u0275fac=function(e){return new(e||t)(s.cc(o.d),s.cc(d.a))},t.\u0275cmp=s.Wb({type:t,selectors:[["app-ajouter-absence"]],decls:11,vars:7,consts:[["fusePerfectScrollbar","",1,"page-layout","blank"],["fxLayout","column","fxLayoutAlign","center center","fxLayout.gt-xs","row","fxLayoutAlign.gt-xs","space-between center",1,"header","accent","p-24","h-100"],["fxLayout","column","fxLayoutAlign","center center","fxLayout.gt-xs","column","fxLayoutAlign.gt-xs","center start"],[1,"header-font-size"],[1,"content"],["dynamicHeight","true",3,"selectedIndex","disableRipple","selectedIndexChange"],["mat-tab-label",""],[3,"selectedTab","nbrAbsencesWaitingEmitter"],["matBadgeOverlap","false","matBadgeColor","accent",1,"tab-label-content",3,"matBadge"]],template:function(t,e){1&t&&(s.ic(0,"div",0),s.ic(1,"div",1),s.ic(2,"div",2),s.ic(3,"div",3),s.bd(4),s.vc(5,"translate"),s.hc(),s.hc(),s.hc(),s.ic(6,"div",4),s.ic(7,"mat-tab-group",5),s.qc("selectedIndexChange",function(t){return e.selectedTab=t}),s.ic(8,"mat-tab"),s.Zc(9,N,4,4,"ng-template",6),s.ic(10,"app-view-all-absences",7),s.qc("nbrAbsencesWaitingEmitter",function(t){return e.changeNbrAbcences(t)}),s.hc(),s.hc(),s.hc(),s.hc(),s.hc()),2&t&&(s.Qb(4),s.cd(s.wc(5,5,"absence.absenceManagement")),s.Qb(3),s.Bc("selectedIndex",e.selectedTab)("selectedIndex",0)("disableRipple",!0),s.Qb(3),s.Bc("selectedTab",e.selectedTab))},directives:[l.a,g.c,g.b,u.c,u.a,u.d,E,k.a],pipes:[o.c],styles:["#absence[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:unset!important;min-height:150px!important;max-height:200px!important;background:url(/assets/images/backgrounds/dark-material-bg.jpg) no-repeat 0 45%;background-size:cover}#absence[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{margin-right:24px}@media screen and (min-width:600px) and (max-width:959px){#absence[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{margin:0 0 16px}}#absence[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{background-repeat:no-repeat;background-position:50%;background-size:cover;transition:all .09s;width:100px;height:100px;border-radius:50%;overflow:hidden;margin-right:25px}#absence[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .modify-container[_ngcontent-%COMP%]{height:40px;margin-top:60px;background-color:rgba(31,31,31,.486);display:flex;flex-direction:column;justify-content:center;align-content:center;cursor:pointer}#absence[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .modify-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;color:#fff;font-weight:600}#absence[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:34px;color:#fff}@media screen and (min-width:600px) and (max-width:959px){#absence[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin-bottom:32px}}#absence[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:none;padding:0 16px;margin:0 0 0 8px}#absence[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1}#absence[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]{height:100%}#absence[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   .mat-tab-body-wrapper[_ngcontent-%COMP%]{flex-grow:1}  .mat-tab-label{margin-left:25px!important}.tab-label-content[_ngcontent-%COMP%]{padding-right:3px}.mat-badge-content[_ngcontent-%COMP%]{height:15px;font-size:11px;box-shadow:2px 1px 2px 0 rgba(93,93,93,.57)}"]}),t})();var T=n("z17N"),Q=n("qFsG"),R=n("1jcm"),L=n("d3UM"),j=n("FKr1");function F(t,e){1&t&&(s.ic(0,"div",42),s.bd(1),s.vc(2,"translate"),s.hc()),2&t&&(s.Qb(1),s.dd(" ",s.wc(2,1,"absence.editAbsenceQuery")," "))}function q(t,e){1&t&&(s.ic(0,"div",42),s.bd(1),s.vc(2,"translate"),s.hc()),2&t&&(s.Qb(1),s.dd(" ",s.wc(2,1,"absence.addAbsenceQuery")," "))}function G(t,e){1&t&&(s.ic(0,"mat-error",43),s.bd(1),s.vc(2,"translate"),s.hc()),2&t&&(s.Qb(1),s.dd(" ",s.wc(2,1,"absence.requiedField")," "))}function Y(t,e){1&t&&(s.ic(0,"mat-error",43),s.bd(1),s.vc(2,"translate"),s.hc()),2&t&&(s.Qb(1),s.dd(" ",s.wc(2,1,"absence.requiedField")," "))}function z(t,e){1&t&&(s.ic(0,"mat-error",43),s.bd(1),s.vc(2,"translate"),s.hc()),2&t&&(s.Qb(1),s.dd(" ",s.wc(2,1,"absence.incorrectDate")," "))}function W(t,e){1&t&&(s.ic(0,"mat-error",43),s.bd(1),s.vc(2,"translate"),s.hc()),2&t&&(s.Qb(1),s.dd(" ",s.wc(2,1,"absence.requiedField")," "))}function U(t,e){if(1&t&&(s.ic(0,"mat-option",44),s.bd(1),s.vc(2,"translate"),s.hc()),2&t){const t=e.$implicit;s.Bc("value",t),s.Qb(1),s.dd(" ",s.wc(2,2,"absence."+t),"")}}function V(t,e){1&t&&(s.ic(0,"mat-error",43),s.bd(1),s.vc(2,"translate"),s.hc()),2&t&&(s.Qb(1),s.dd(" ",s.wc(2,1,"absence.requiedField")," "))}function Z(t,e){1&t&&(s.ic(0,"mat-error",43),s.bd(1),s.vc(2,"translate"),s.hc()),2&t&&(s.Qb(1),s.dd(" ",s.wc(2,1,"absence.requiedField")," "))}function H(t,e){if(1&t&&(s.ic(0,"mat-form-field",24),s.ic(1,"mat-label"),s.bd(2),s.vc(3,"translate"),s.hc(),s.dc(4,"textarea",25),s.Zc(5,Z,3,3,"mat-error",20),s.hc()),2&t){const t=s.uc();s.Qb(2),s.cd(s.wc(3,4,"absence.OtherReason")),s.Qb(2),s.Bc("formControl",t.otherReasonControl)("readonly",t.absenceId&&!t.editing),s.Qb(1),s.Bc("ngIf",t.otherReasonControl.errors&&t.otherReasonControl.errors.required)}}function $(t,e){if(1&t){const t=s.jc();s.ic(0,"div"),s.ic(1,"label",45),s.bd(2),s.hc(),s.ic(3,"mat-icon",46),s.qc("click",function(e){return s.Rc(t),s.uc().clearFileName(e)}),s.bd(4,"close"),s.hc(),s.hc()}if(2&t){const t=s.uc();s.Qb(2),s.cd(t.fileName)}}function J(t,e){if(1&t){const t=s.jc();s.ic(0,"button",47),s.qc("click",function(e){return s.Rc(t),s.uc(),s.Nc(79).click(),e.preventDefault()}),s.ic(1,"span"),s.bd(2),s.vc(3,"translate"),s.hc(),s.hc()}if(2&t){const t=s.uc();s.Bc("disabled",t.absenceId&&!t.editing),s.Qb(2),s.cd(s.wc(3,2,"absence.proof"))}}const X=function(t){return{"full-width":t}},K=function(t){return{"half-days":t}},tt=function(t){return{"sirh-disabled-btn":t}};let et=(()=>{class t{constructor(t,e,n,o,a,c,s,d){this.router=t,this.formBuilder=e,this.snackBarService=n,this.absenceService=o,this.route=a,this.dateTimeAdapter=c,this.translateService=s,this.fuseLoaderTranslateService=d,this.selectedTab=0,this.createSnackMessage="absence.createSnackMessage",this.updateSnackMessage="absence.updateSnackMessage",this.fromView=!1,this.minDate=new Date,this.createDateControl=new b.e(null,b.t.required),this.halfDayBeginDateControl=new b.e(null),this.halfDayEndDateControl=new b.e(null),this.endDateControl=new b.e(null,b.t.required),this.reasonControl=new b.e(null,b.t.required),this.otherReasonControl=new b.e(null,b.t.required),this.noteControl=new b.e(null),this.accountedControl=new b.e(!1,b.t.required),this.durationControl=new b.e({value:null,disabled:!0}),this.justifiedControl=new b.e(!1,b.t.required),this.statusControl=new b.e("WAITING",b.t.required),this.weekendDays=[],this.reasons=["ILLNESS","DEATH","MARRIAGE","BIRTH","OTHER"],this.statusList=["WAITING","ACCEPTED","DENIED"],this.weekendDaysIndex=[],this.weekendDaysCount=0,this.page=0,this.myFilter=t=>{const e=new Date(t).getDay();return this.weekendDaysIndex&&!this.weekendDaysIndex.includes(e)},this.fuseLoaderTranslateService.loadTranslations(i,r),this.companyId=h.a.getEmployeeCompanyId(),this.route.params.subscribe(t=>{t.id&&(this.absenceId=+t.id,this.route.queryParams.subscribe(t=>{this.editing=!!this.absenceId}))}),this.route.queryParams.subscribe(t=>{t.startDate&&this.createDateControl.setValue(t.startDate),t.fromView&&(this.fromView=!0),this.page=t.page?t.page:0}),c.setLocale("fr")}ngOnInit(){window.addEventListener("resize",t=>{this.getScreenSize()}),this.getScreenSize(),this.initForm(),this.getCompanyWeekEndDays(),this.absenceId&&this.getAbsence()}goBack(){this.router.navigate(["absence"],{queryParams:{page:this.page}})}initForm(){this.formGroup=this.formBuilder.group({startDate:this.createDateControl,endDate:this.endDateControl,halfDayInBeginDate:this.halfDayBeginDateControl,halfDayInEndDate:this.halfDayEndDateControl,reason:this.reasonControl,accounted:this.accountedControl,duration:this.durationControl,note:this.noteControl,justified:this.justifiedControl},{validator:this.dateValidator}),this.formGroup.controls.reason.valueChanges.subscribe(t=>{"OTHER"===t?this.formGroup.addControl("otherReason",this.otherReasonControl):this.formGroup.contains("otherReason")&&this.formGroup.removeControl("otherReason")})}dateValidator(t){const e=t.get("startDate"),n=t.get("endDate");return e.value&&n.value?p(e.value).isBefore(p(n.value))||p(e.value).isSame(p(n.value))?null:(n.setErrors({invalidDates:!0}),{invalidDates:!0}):{required:!0}}dateChanged(){if(this.createDateControl.value&&this.endDateControl.value){const t=p(this.createDateControl.value),e=p(this.endDateControl.value);t.isSame(e)?(this.halfDayEndDateControl.setValue(!1),this.halfDayEndDateControl.disable()):this.halfDayEndDateControl.enable(),this.weekendDaysCount=0,this.weekendDays.forEach(t=>{this.weekendDaysCount+=this.absenceService.getdayCountBetweenDates(this.absenceService.getDayIndex(t),this.createDateControl.value,this.endDateControl.value)}),this.setDuration(t,e)}}setDuration(t,e){this.duration=p.duration(e.diff(t)).asDays()+1-this.weekendDaysCount,this.duration=this.halfDayBeginDateControl.value?this.duration-.5:this.duration,this.duration=this.halfDayEndDateControl.value?this.duration-.5:this.duration,this.duration>0?(this.days=this.duration>1?" jours":" jour",this.durationControl.setValue(this.duration.toFixed(0)+this.days)):this.durationControl.setValue(null)}toggleChanged(t){this.setDuration(p(this.createDateControl.value),p(this.endDateControl.value))}createAbsence(){if(this.formGroup.valid){this.loadingButton=!0;const t="YYYY-MM-DD[T]HH:mm:ss",e=this.formGroup.value;e.startDate=p(this.createDateControl.value).format(t),e.halfDayInBeginDate=this.halfDayBeginDateControl.value,e.endDate=p(this.endDateControl.value).format(t),e.halfDayInEndDate=this.halfDayEndDateControl.value,e.accounted=this.accountedControl.value,e.reason=this.reasonControl.value,e.otherReason=this.otherReasonControl.value,e.status=this.statusList[0],e.justified=this.justifiedControl.value,this.absenceId&&(e.id=this.absenceId);const n=new FormData,o=JSON.stringify(e),a=new File([o],"absence.json",{type:"application/json"});n.append("absence",a),this.file&&n.append("justification",this.file),this.absenceId?this.absenceService.updateAbsence(this.companyId,this.absenceId,n).subscribe(t=>{this.loadingButton=!1,this.snackBarService.showSnackBar(this.translateService.instant("absence.updateSnackMessage"),this.snackBarService.succesSnackBarClass),this.goBack()},t=>{this.loadingButton=!1}):this.absenceService.createAbsence(this.companyId,n).subscribe(t=>{this.loadingButton=!1,this.snackBarService.showSnackBar(this.translateService.instant(this.createSnackMessage),this.snackBarService.succesSnackBarClass),this.goBack()},t=>{this.loadingButton=!1})}else this.formGroup.markAllAsTouched()}resetForm(){this.initForm(),this.formGroup.reset(),this.router.navigate(["absence"])}onFileChange(t){const e=new FileReader;if(t.target.files&&t.target.files.length){const[n]=t.target.files;e.readAsDataURL(n),this.fileName=n.name,this.file=n,e.onload=()=>{this.justification=e.result}}}getAbsence(){this.absenceService.getAbsenceById(this.companyId,this.absenceId).subscribe(t=>{this.absence=t,this.createDateControl.setValue(this.absence.startDate),this.endDateControl.setValue(this.absence.endDate),this.halfDayBeginDateControl.setValue(this.absence.halfDayInBeginDate),this.halfDayEndDateControl.setValue(this.absence.halfDayInEndDate),this.reasonControl.setValue(this.absence.reason),this.otherReasonControl.setValue(this.absence.otherReason),this.accountedControl.setValue(this.absence.accounted),this.justifiedControl.setValue(this.absence.justified),this.statusControl.setValue(this.absence.status),this.editing||(this.createDateControl.disable(),this.endDateControl.disable(),this.reasonControl.disable(),this.otherReasonControl.disable(),this.noteControl.disable(),this.accountedControl.disable(),this.justifiedControl.disable(),this.statusControl.disable()),this.dateChanged(),this.fileName=this.absence.attachmentFilename})}clearFileName(t){document.getElementById("file").value="",this.fileName=null,this.file=null}toogleChange(t){t.checked||(this.justifiedControl.reset(),this.fileName=null,this.file=null)}getScreenSize(){this.width=window.innerWidth,this.isMobile=this.width<600}getCompanyWeekEndDays(){this.absenceService.getCompanyWeekEndDays(this.companyId).subscribe(t=>{this.weekendDays=t,this.weekendDays.forEach(t=>{this.weekendDaysIndex.push(this.absenceService.getDayIndex(t))})})}}return t.\u0275fac=function(e){return new(e||t)(s.cc(c.g),s.cc(b.d),s.cc(O.a),s.cc(M),s.cc(c.a),s.cc(T.a),s.cc(o.d),s.cc(d.a))},t.\u0275cmp=s.Wb({type:t,selectors:[["app-add-absence"]],decls:92,vars:82,consts:[["id","profile","fusePerfectScrollbar","",1,"page-layout","simple","tabbed"],["fxLayout","column","fxLayoutAlign","center center","fxLayout.gt-sm","row","fxLayoutAlign.gt-sm","space-between center",1,"header","p-24","h-100"],["fxLayout","row","fxLayoutAlign","start center",2,"color","white"],["mat-icon-button","",1,"mr-16",3,"click"],["fxLayout","column","fxLayoutAlign","start start"],["class","header-font-size",4,"ngIf"],[1,"content"],["dynamicHeight","true"],["label","Informations g\xe9n\xe9rales"],["id","about","fxLayout","row wrap",1,"p-24",2,"margin-bottom","35px"],["fxLayout","column","fxFlex","100",1,"about-content"],["fxLayout","column",1,"profile-box","info-box","general"],["fxLayout","column",1,"content",2,"background-color","white","padding","30px 21px"],["autocomplete","off","name","editForm","novalidate","",1,"editForm",3,"formGroup"],[1,"first_div"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","space-between center"],["fxFlex","60","appearance","outline",1,"classInput",3,"ngClass"],["matInput","",3,"min","formControl","matDatepicker","matDatepickerFilter","readonly","dateChange","focus"],["matSuffix","",3,"for"],["pickerCreate",""],["class","mat-error",4,"ngIf"],["fxLayout","row","fxFlex.sm","100","fxFlex.xs","100","fxLayoutAlign","start center","fxLayoutGap","10px",3,"ngClass"],[3,"formControl","change"],["pickerEnd",""],["appearance","outline",1,"classInput"],["matInput","",3,"formControl","readonly"],[1,"second_div"],["appearance","outline",1,"classInput",2,"margin-top","5px"],[3,"formControl","disabled"],[3,"value",4,"ngFor","ngForOf"],["class","classInput","appearance","outline",4,"ngIf"],["fxLayout","column","fxLayoutAlign","start start",1,"input-space"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","20px",1,"justify",2,"margin-top","4px"],[4,"ngIf"],["style","margin: auto;","id","justificationButton","mat-button","","class","accent add-btn",3,"disabled","click",4,"ngIf"],["hidden","","type","file","id","file","accept",".pdf, .doc, .docx, .txt, .png, .jpeg, .jpg, .svg",3,"change"],["file",""],[1,"bottom-container-inner"],[1,"bottom-buttons-container"],["mat-raised-button","",1,"sirh-validate-btn",3,"disabled","ngClass","click"],[1,"icon-button"],["mat-raised-button","",1,"footer-button","sirh-cancel-btn",3,"click"],[1,"header-font-size"],[1,"mat-error"],[3,"value"],["for","justificationButton"],[2,"cursor","pointer","font-size","15px","position","absolute","margin-top","2px",3,"click"],["id","justificationButton","mat-button","",1,"accent","add-btn",2,"margin","auto",3,"disabled","click"]],template:function(t,e){if(1&t){const t=s.jc();s.ic(0,"div",0),s.ic(1,"div",1),s.ic(2,"div",2),s.ic(3,"button",3),s.qc("click",function(){return e.goBack()}),s.ic(4,"mat-icon"),s.bd(5,"arrow_back"),s.hc(),s.hc(),s.ic(6,"div",4),s.Zc(7,F,3,3,"div",5),s.Zc(8,q,3,3,"div",5),s.hc(),s.hc(),s.hc(),s.ic(9,"div",6),s.ic(10,"mat-tab-group",7),s.ic(11,"mat-tab",8),s.ic(12,"div",9),s.ic(13,"div",10),s.ic(14,"div",11),s.ic(15,"div",12),s.ic(16,"form",13),s.ic(17,"div",14),s.ic(18,"div",15),s.ic(19,"mat-form-field",16),s.ic(20,"mat-label"),s.bd(21),s.vc(22,"translate"),s.hc(),s.ic(23,"input",17),s.qc("dateChange",function(){return e.dateChanged()})("focus",function(){return s.Rc(t),s.Nc(26).open()}),s.hc(),s.dc(24,"mat-datepicker-toggle",18),s.dc(25,"mat-datepicker",null,19),s.Zc(27,G,3,3,"mat-error",20),s.hc(),s.ic(28,"div",21),s.ic(29,"mat-slide-toggle",22),s.qc("change",function(t){return e.toggleChanged(t)}),s.hc(),s.ic(30,"div"),s.ic(31,"span"),s.bd(32),s.vc(33,"translate"),s.hc(),s.hc(),s.hc(),s.hc(),s.ic(34,"div",15),s.ic(35,"mat-form-field",16),s.ic(36,"mat-label"),s.bd(37),s.vc(38,"translate"),s.hc(),s.ic(39,"input",17),s.qc("dateChange",function(){return e.dateChanged()})("focus",function(){return s.Rc(t),s.Nc(42).open()}),s.hc(),s.dc(40,"mat-datepicker-toggle",18),s.dc(41,"mat-datepicker",null,23),s.Zc(43,Y,3,3,"mat-error",20),s.Zc(44,z,3,3,"mat-error",20),s.hc(),s.ic(45,"div",21),s.ic(46,"mat-slide-toggle",22),s.qc("change",function(t){return e.toggleChanged(t)}),s.hc(),s.ic(47,"div"),s.ic(48,"span"),s.bd(49),s.vc(50,"translate"),s.hc(),s.hc(),s.hc(),s.hc(),s.ic(51,"mat-form-field",24),s.ic(52,"mat-label"),s.bd(53),s.vc(54,"translate"),s.hc(),s.dc(55,"input",25),s.Zc(56,W,3,3,"mat-error",20),s.hc(),s.hc(),s.ic(57,"div",26),s.ic(58,"mat-form-field",27),s.ic(59,"mat-label"),s.bd(60),s.vc(61,"translate"),s.hc(),s.ic(62,"mat-select",28),s.Zc(63,U,3,4,"mat-option",29),s.hc(),s.Zc(64,V,3,3,"mat-error",20),s.hc(),s.Zc(65,H,6,6,"mat-form-field",30),s.ic(66,"div",31),s.ic(67,"mat-slide-toggle",28),s.bd(68),s.vc(69,"translate"),s.hc(),s.hc(),s.ic(70,"div",32),s.ic(71,"mat-slide-toggle",22),s.qc("change",function(t){return e.toogleChange(t)}),s.bd(72),s.vc(73,"translate"),s.hc(),s.Zc(74,$,5,1,"div",33),s.ic(75,"div"),s.Zc(76,J,4,4,"button",34),s.hc(),s.ic(77,"div"),s.ic(78,"input",35,36),s.qc("change",function(t){return e.onFileChange(t)}),s.hc(),s.hc(),s.hc(),s.hc(),s.hc(),s.hc(),s.hc(),s.hc(),s.hc(),s.hc(),s.hc(),s.hc(),s.hc(),s.ic(80,"div",37),s.ic(81,"div",38),s.ic(82,"button",39),s.qc("click",function(){return e.createAbsence()}),s.ic(83,"mat-icon",40),s.bd(84),s.hc(),s.bd(85),s.vc(86,"translate"),s.hc(),s.ic(87,"button",41),s.qc("click",function(){return e.resetForm()}),s.ic(88,"mat-icon",40),s.bd(89,"clear"),s.hc(),s.bd(90),s.vc(91,"translate"),s.hc(),s.hc(),s.hc()}if(2&t){const t=s.Nc(26),n=s.Nc(42);s.Qb(7),s.Bc("ngIf",e.editing),s.Qb(1),s.Bc("ngIf",!e.editing),s.Qb(8),s.Bc("formGroup",e.formGroup),s.Qb(3),s.Bc("ngClass",s.Ec(72,X,e.isMobile)),s.Qb(2),s.cd(s.wc(22,52,"absence.beginDate")),s.Qb(2),s.Bc("min",e.minDate)("formControl",e.createDateControl)("matDatepicker",t)("matDatepickerFilter",e.myFilter)("readonly",e.absenceId&&!e.editing),s.Qb(1),s.Bc("for",t),s.Qb(3),s.Bc("ngIf",e.createDateControl.errors&&e.createDateControl.errors.required),s.Qb(1),s.Bc("ngClass",s.Ec(74,K,e.isMobile)),s.Qb(1),s.Bc("formControl",e.halfDayBeginDateControl),s.Qb(3),s.cd(s.wc(33,54,"absence.halfDay")),s.Qb(3),s.Bc("ngClass",s.Ec(76,X,e.isMobile)),s.Qb(2),s.cd(s.wc(38,56,"absence.endDate")),s.Qb(2),s.Bc("min",e.minDate)("formControl",e.endDateControl)("matDatepicker",n)("matDatepickerFilter",e.myFilter)("readonly",e.absenceId&&!e.editing),s.Qb(1),s.Bc("for",n),s.Qb(3),s.Bc("ngIf",e.endDateControl.errors&&e.endDateControl.errors.required),s.Qb(1),s.Bc("ngIf",e.endDateControl.errors&&e.endDateControl.errors.invalidDates),s.Qb(1),s.Bc("ngClass",s.Ec(78,K,e.isMobile)),s.Qb(1),s.Bc("formControl",e.halfDayEndDateControl),s.Qb(3),s.dd("",s.wc(50,58,"absence.halfDay")," "),s.Qb(4),s.cd(s.wc(54,60,"absence.duration")),s.Qb(2),s.Bc("formControl",e.durationControl)("readonly",e.absenceId&&!e.editing),s.Qb(1),s.Bc("ngIf",e.durationControl.errors&&e.durationControl.errors.required),s.Qb(4),s.dd("",s.wc(61,62,"absence.absenceReason")," "),s.Qb(2),s.Bc("formControl",e.reasonControl)("disabled",e.absenceId&&!e.editing),s.Qb(1),s.Bc("ngForOf",e.reasons),s.Qb(1),s.Bc("ngIf",e.reasonControl.errors&&e.reasonControl.errors.required),s.Qb(1),s.Bc("ngIf","OTHER"===e.reasonControl.value),s.Qb(2),s.Bc("formControl",e.accountedControl)("disabled",e.absenceId&&!e.editing),s.Qb(1),s.dd(" ",s.wc(69,64,"absence.calculateLeave"),""),s.Qb(3),s.Bc("formControl",e.justifiedControl),s.Qb(1),s.dd("",s.wc(73,66,"absence.justified")," "),s.Qb(2),s.Bc("ngIf",e.fileName),s.Qb(2),s.Bc("ngIf",e.justifiedControl.value),s.Qb(6),s.Ub("spinnerButton",e.loadingButton),s.Bc("disabled",e.loadingButton)("ngClass",s.Ec(80,tt,e.loadingButton)),s.Qb(2),s.cd(e.loadingButton?null:"check"),s.Qb(1),s.dd(" ",s.wc(86,68,"absence.validate")," "),s.Qb(5),s.dd(" ",s.wc(91,70,"absence.cancel")," ")}},directives:[l.a,g.c,g.b,D.b,y.a,v.n,u.c,u.a,g.a,b.u,b.p,b.i,P.c,v.k,w.a,P.g,Q.b,b.c,x.d,b.o,b.f,x.f,P.h,x.c,g.d,R.a,L.a,v.m,P.b,j.m],pipes:[o.c],styles:["#profile[_ngcontent-%COMP%]{height:100%}#profile[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:url(/assets/images/backgrounds/dark-material-bg.jpg) no-repeat 0 45%;background-size:cover}#profile[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{margin-right:24px}@media screen and (min-width:600px) and (max-width:959px){#profile[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{margin:0 0 16px}}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]{height:100%}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   .mat-tab-body-wrapper[_ngcontent-%COMP%]{flex-grow:1}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]{border-radius:4px;overflow:hidden;margin-bottom:16px;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{padding:16px}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:17px}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{cursor:pointer}@media (min-width:600.2px){#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:16px}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], #profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .editForm[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .editForm[_ngcontent-%COMP%]   .second_div[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:45%;margin-top:0}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .editForm[_ngcontent-%COMP%]   .first_div[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:45%}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .editForm[_ngcontent-%COMP%]   .classInput[_ngcontent-%COMP%]{width:100%}}@media (max-width:800px){#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:row;justify-content:space-between flex-start}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .editForm[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .editForm[_ngcontent-%COMP%]   .second_div[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:49%;margin-top:0!important}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .editForm[_ngcontent-%COMP%]   .first_div[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:49%}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .editForm[_ngcontent-%COMP%]   .classInput[_ngcontent-%COMP%]{width:100%}}@media (max-width:600px){#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:stretch flex-start;padding:16px}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .second_div[_ngcontent-%COMP%]{width:100%;margin-top:0!important}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .classInput[_ngcontent-%COMP%], #profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .first_div[_ngcontent-%COMP%]{width:100%}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .editForm[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:stretch}}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .secondary-text[_ngcontent-%COMP%]{min-width:100px;text-align:right}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{padding:8px;border-top:1px solid}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .profile-box.info-box[_ngcontent-%COMP%]   .info-line[_ngcontent-%COMP%]{margin-bottom:24px}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .profile-box.info-box[_ngcontent-%COMP%]   .info-line[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:15px;padding-bottom:4px}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .profile-box.info-box[_ngcontent-%COMP%]   .info-line[_ngcontent-%COMP%]:last-child{margin-bottom:0}.input-space[_ngcontent-%COMP%]{height:57px;margin-top:20px}ng-select.ng-invalid.ng-touched[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{border-color:#dc3545;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 0 3px #fde6e8}  .ng-select.ng-invalid.ng-touched .ng-select-container.ng-appearance-outline:after{border:2px solid #dc3545;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 0 3px #fde6e8}.ng-select-container[_ngcontent-%COMP%]{position:relative}.ng-select-container[_ngcontent-%COMP%]   .mat-error[_ngcontent-%COMP%]{height:0;position:absolute;font-size:12px;bottom:15px;left:5px}  .ng-select .ng-select-container.ng-appearance-outline .ng-placeholder{background-color:#f5f5f5}  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{background-color:#f5f5f5;font-size:17px;top:25px}  .ng-select .ng-select-container.ng-appearance-outline{height:69px}  .ng-select{margin-top:-5px}  .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{border-radius:6px;background-color:rgba(0,0,0,.87)}  .ng-select.ng-select-focused .ng-select-container.ng-appearance-outline:hover:after{border-color:rgba(0,0,0,.87)}  .ng-select.ng-select-focused .ng-select-container.ng-appearance-outline:after{border-color:rgba(0,0,0,.87)}  .ng-select.ng-select-focused .ng-select-container .ng-value-container .ng-placeholder{color:rgba(0,0,0,.87)}  .ng-select.ng-select-focused.ng-invalid.ng-touched .ng-select-container .ng-value-container .ng-placeholder{color:rgba(0,0,0,.87)}  .ng-select.ng-invalid.ng-touched .ng-select-container .ng-value-container .ng-placeholder{color:#dc3545}  .ng-select .ng-select-container .ng-value-container .ng-input>input{width:unset!important}  .ng-arrow-wrapper{display:flex;height:100%;margin-top:7px;flex-direction:row;align-items:center}.bottom-container-inner[_ngcontent-%COMP%]{z-index:1;height:62px;position:absolute;bottom:0;width:100%;display:flex;flex-direction:row;justify-content:flex-end;align-items:flex-start;background-image:linear-gradient(180deg,rgba(30,33,41,0) 0,rgba(30,33,41,0) 28%,rgba(30,33,41,.65))}@media (max-width:600px){.bottom-container-inner[_ngcontent-%COMP%]{height:36px}}.bottom-buttons-container[_ngcontent-%COMP%]{height:48px;width:auto;display:flex;flex-direction:row;justify-content:center;color:#fff;align-items:center;margin-right:40px}@media (max-width:600px){.bottom-buttons-container[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%,-50%)}}.footer-button[_ngcontent-%COMP%]{padding:1px 10px!important;margin-left:5px}.icon-button[_ngcontent-%COMP%]{font-size:20px}.btn-disabled[_ngcontent-%COMP%]{box-shadow:0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)!important;background-color:rgba(0,0,0,.12)!important;color:rgba(0,0,0,.26)!important}@media (min-width:800px){#profile[_ngcontent-%COMP%]{position:absolute!important}}.justify[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap}.half-days[_ngcontent-%COMP%]{width:100%;padding-left:0;margin-bottom:10px}.full-width[_ngcontent-%COMP%]{width:100%}"]}),t})();var nt=n("DD7I");function ot(t,e){if(1&t&&(s.ic(0,"div",15),s.ic(1,"div",16),s.bd(2),s.hc(),s.hc()),2&t){const t=s.uc(2);s.Qb(2),s.dd(" ",t.fullName," ")}}function at(t,e){1&t&&(s.ic(0,"span"),s.bd(1),s.vc(2,"translate"),s.hc()),2&t&&(s.Qb(1),s.dd(" (",s.wc(2,1,"absence.halfDay"),")"))}function ct(t,e){1&t&&(s.ic(0,"span"),s.bd(1),s.vc(2,"translate"),s.hc()),2&t&&(s.Qb(1),s.dd("(",s.wc(2,1,"absence.halfDay"),")"))}function it(t,e){if(1&t&&(s.ic(0,"div",18),s.ic(1,"div",19),s.bd(2),s.vc(3,"translate"),s.hc(),s.ic(4,"div",20),s.ic(5,"a",24),s.bd(6),s.hc(),s.hc(),s.hc()),2&t){const t=s.uc(3);s.Qb(2),s.dd(" ",s.wc(3,3,"absence.proof")," "),s.Qb(3),s.Bc("href",t.attachementUrl+"/"+t.absence.attachmentId,s.Tc),s.Qb(1),s.cd(t.absence.attachmentFilename)}}function rt(t,e){if(1&t&&(s.ic(0,"div",18),s.ic(1,"div",19),s.bd(2),s.vc(3,"translate"),s.hc(),s.ic(4,"div",20),s.bd(5),s.hc(),s.hc()),2&t){const t=s.uc(3);s.Qb(2),s.dd(" ",s.wc(3,2,"absence.note")," "),s.Qb(3),s.dd(" ",t.absence.refusalReason?t.absence.refusalReason:"non renseign\xe9","")}}function st(t,e){if(1&t&&(s.ic(0,"div",8),s.ic(1,"div",17),s.ic(2,"div",18),s.ic(3,"div",19),s.bd(4),s.vc(5,"translate"),s.hc(),s.ic(6,"div",20),s.bd(7),s.vc(8,"date"),s.Zc(9,at,3,3,"span",21),s.hc(),s.hc(),s.ic(10,"div",18),s.ic(11,"div",19),s.bd(12),s.vc(13,"translate"),s.hc(),s.ic(14,"div",20),s.bd(15),s.vc(16,"date"),s.Zc(17,ct,3,3,"span",21),s.hc(),s.hc(),s.ic(18,"div",18),s.ic(19,"div",19),s.bd(20),s.vc(21,"translate"),s.hc(),s.ic(22,"div",20),s.bd(23),s.hc(),s.hc(),s.ic(24,"div",18),s.ic(25,"div",19),s.bd(26),s.vc(27,"translate"),s.hc(),s.ic(28,"div",20),s.bd(29),s.vc(30,"translate"),s.hc(),s.hc(),s.hc(),s.ic(31,"div",22),s.ic(32,"div",18),s.ic(33,"div",19),s.bd(34),s.vc(35,"translate"),s.hc(),s.ic(36,"div",20),s.bd(37),s.vc(38,"translate"),s.hc(),s.hc(),s.ic(39,"div",18),s.ic(40,"div",19),s.bd(41),s.vc(42,"translate"),s.hc(),s.ic(43,"div",20),s.bd(44),s.vc(45,"translate"),s.hc(),s.hc(),s.ic(46,"div",18),s.ic(47,"div",19),s.bd(48),s.vc(49,"translate"),s.hc(),s.ic(50,"div",20),s.bd(51),s.vc(52,"translate"),s.hc(),s.hc(),s.Zc(53,it,7,5,"div",23),s.ic(54,"div",18),s.ic(55,"div",19),s.bd(56),s.vc(57,"translate"),s.hc(),s.ic(58,"div",20),s.bd(59),s.hc(),s.hc(),s.Zc(60,rt,6,4,"div",23),s.hc(),s.hc()),2&t){const t=s.uc(2);s.Qb(4),s.dd(" ",s.wc(5,20,"absence.beginDate")," "),s.Qb(3),s.dd("",s.xc(8,22,t.absence.startDate,"d/M/yyyy")," "),s.Qb(2),s.Bc("ngIf",t.absence.halfDayInBeginDate),s.Qb(3),s.dd(" ",s.wc(13,25,"absence.endDate")," "),s.Qb(3),s.dd("",s.xc(16,27,t.absence.endDate,"d/M/yyyy")," "),s.Qb(2),s.Bc("ngIf",t.absence.halfDayInEndDate),s.Qb(3),s.dd(" ",s.wc(21,30,"absence.duration")," "),s.Qb(3),s.cd(t.duration),s.Qb(3),s.dd(" ",s.wc(27,32,"absence.absenceReason")," "),s.Qb(3),s.dd(" ",s.wc(30,34,"absence."+t.absence.reason)," "),s.Qb(5),s.dd(" ",s.wc(35,36,"absence.queryStatus")," "),s.Qb(3),s.dd(" ",s.wc(38,38,"absence."+t.absence.status)," "),s.Qb(4),s.dd(" ",s.wc(42,40,"absence.calculateLeave")," "),s.Qb(3),s.cd(s.wc(45,42,"absence."+t.absence.accounted)),s.Qb(4),s.dd(" ",s.wc(49,44,"absence.justified")," "),s.Qb(3),s.dd(" ",s.wc(52,46,"absence."+t.absence.justified)," "),s.Qb(2),s.Bc("ngIf","Oui"===t.absence.justified),s.Qb(3),s.dd(" ",s.wc(57,48,"absence.note")," "),s.Qb(3),s.dd(" ",t.absence.note?t.absence.note:"Aucun renseignement",""),s.Qb(1),s.Bc("ngIf","DENIED"===t.absence.status)}}function dt(t,e){if(1&t){const t=s.jc();s.ic(0,"div",3),s.ic(1,"div",4),s.ic(2,"div",5),s.ic(3,"button",6),s.qc("click",function(){return s.Rc(t),s.uc().goBack()}),s.ic(4,"mat-icon"),s.bd(5,"arrow_back"),s.hc(),s.hc(),s.Zc(6,ot,3,1,"div",7),s.hc(),s.hc(),s.ic(7,"div",8),s.ic(8,"mat-tab-group",9),s.ic(9,"mat-tab",10),s.ic(10,"div",11),s.ic(11,"div",12),s.ic(12,"div",13),s.Zc(13,st,61,50,"div",14),s.hc(),s.hc(),s.hc(),s.hc(),s.hc(),s.hc(),s.hc()}if(2&t){const t=s.uc();s.Qb(6),s.Bc("ngIf",t.absence),s.Qb(7),s.Bc("ngIf",t.absence)}}function lt(t,e){if(1&t){const t=s.jc();s.ic(0,"button",29),s.qc("click",function(){return s.Rc(t),s.uc(2).deleteAbsence()}),s.ic(1,"mat-icon",30),s.bd(2,"close"),s.hc(),s.bd(3),s.vc(4,"translate"),s.hc()}2&t&&(s.Qb(3),s.dd(" ",s.wc(4,1,"absence.cancel")," "))}function gt(t,e){if(1&t){const t=s.jc();s.ic(0,"button",31),s.qc("click",function(){return s.Rc(t),s.uc(2).updateAbsence()}),s.ic(1,"mat-icon",30),s.bd(2,"edit"),s.hc(),s.bd(3),s.vc(4,"translate"),s.hc()}2&t&&(s.Qb(3),s.dd(" ",s.wc(4,1,"absence.edit")," "))}function ut(t,e){if(1&t){const t=s.jc();s.ic(0,"button",32),s.qc("click",function(){return s.Rc(t),s.uc(2).deleteAbsence(!0)}),s.ic(1,"mat-icon",30),s.bd(2,"delete"),s.hc(),s.bd(3),s.vc(4,"translate"),s.hc()}2&t&&(s.Qb(3),s.dd(" ",s.wc(4,1,"absence.delete")," "))}function bt(t,e){if(1&t&&(s.ic(0,"div",25),s.Zc(1,lt,5,3,"button",26),s.Zc(2,gt,5,3,"button",27),s.Zc(3,ut,5,3,"button",28),s.hc()),2&t){const t=s.uc();s.Qb(1),s.Bc("ngIf","ACCEPTED"===t.absence.status),s.Qb(1),s.Bc("ngIf","WAITING"===t.absence.status),s.Qb(1),s.Bc("ngIf","WAITING"===t.absence.status)}}let pt=(()=>{class t{constructor(t,e,n,o,a,c,s,d,l){this.route=t,this.absenceService=e,this.router=n,this.userService=o,this.dialog=a,this.snackBarService=c,this.translateService=s,this.fuseLoaderTranslateService=d,this.location=l,this.selectedTab=0,this.page=0,this.fuseLoaderTranslateService.loadTranslations(i,r),this.route.params.subscribe(t=>{t.id&&(this.absenceId=+t.id)}),this.route.queryParams.subscribe(t=>{this.page=t.page?t.page:0}),this.companyId=h.a.getEmployeeCompanyId(),this.getSingleAsence()}ngOnInit(){this.getAttachementUrl()}getSingleAsence(){this.absenceService.getAbsenceById(this.companyId,this.absenceId).subscribe(t=>{this.absence=t,this.setDuration(this.absence.startDate,this.absence.endDate,this.absence.halfDayInBeginDate,this.absence.halfDayInEndDate),this.fullName=this.absence.employeeLastName+" "+this.absence.employeeFirstName})}editWaitingLeave(){this.router.navigate(["absence",this.absence.id,"edit"],{queryParams:{page:this.page}})}goBack(){this.router.navigate(["absence"],{queryParams:{selectedTab:this.selectedTab,page:this.page}})}setDuration(t,e,n,o){const a=p(t),c=p(e);this.duration=p.duration(c.diff(a)).asDays()+1,n&&(this.duration=this.duration-.5),o&&(this.duration=this.duration-.5),this.duration=this.duration>0?this.duration+" jours":this.duration+" jour"}deleteAbsence(t){const e=this.translateService.instant(t?"absence.ConfirmDeleteMsg":"absence.ConfirmCancelRequestMsg"),n=[{text:this.translateService.instant("absence.true"),value:!0},{text:this.translateService.instant("absence.false"),value:!1}];this.dialog.open(f.a,{data:{options:n,message:e}}).afterClosed().subscribe(e=>{e&&!0===e&&(t?this.absenceService.deleteAbsenceRequest(this.companyId,this.absenceId).subscribe(e=>{this.afterDeleteOrCancelRequest(t)}):this.afterDeleteOrCancelRequest(t))})}updateAbsence(){this.editWaitingLeave()}getAttachementUrl(){this.attachementUrl=C.a.ENDPOINTS.EMPLOYEE_ATTACHEMENT_URL}stringValue(t){return t?"true":"false"}afterDeleteOrCancelRequest(t){this.snackBarService.showSnackBar(this.translateService.instant(t?"absence.absenceRequestDeleted":"absence.absenceRequestToCancel"),this.snackBarService.succesSnackBarClass),this.location.back()}}return t.\u0275fac=function(e){return new(e||t)(s.cc(c.a),s.cc(M),s.cc(c.g),s.cc(nt.a),s.cc(_.b),s.cc(O.a),s.cc(o.d),s.cc(d.a),s.cc(v.i))},t.\u0275cmp=s.Wb({type:t,selectors:[["app-single-view-absence"]],decls:3,vars:2,consts:[["id","profile","class","page-layout simple tabbed","fusePerfectScrollbar","",4,"ngIf"],[1,"bottom-container-inner"],["class","bottom-buttons-container",4,"ngIf"],["id","profile","fusePerfectScrollbar","",1,"page-layout","simple","tabbed"],["fxLayout","column","fxLayoutAlign","center center","fxLayout.gt-sm","row","fxLayoutAlign.gt-sm","space-between center",1,"header","p-24",2,"height","70px !important"],["fxLayout","row","fxLayoutAlign","start center",2,"color","white"],["mat-icon-button","",1,"mr-16",3,"click"],["fxLayout","column","fxLayoutAlign","start start",4,"ngIf"],[1,"content"],["dynamicHeight","true"],["label","Informations g\xe9n\xe9rales"],["id","about","fxLayout","row wrap",1,"p-24",2,"margin-bottom","35px"],["fxLayout","column","fxFlex","100",1,"about-content"],["fxLayout","column",1,"profile-box","info-box","general",2,"background-color","white","padding","14px 5px"],["class","content",4,"ngIf"],["fxLayout","column","fxLayoutAlign","start start"],[1,"h2"],[1,"first_div"],[1,"info-line"],[1,"title"],[1,"info"],[4,"ngIf"],[1,"second_div"],["class","info-line",4,"ngIf"],[3,"href"],[1,"bottom-buttons-container"],["class","footer-button sirh-cancel-btn","mat-raised-button","",3,"click",4,"ngIf"],["class","footer-button sirh-edit-btn","mat-raised-button","",3,"click",4,"ngIf"],["class","footer-button sirh-delete-btn","mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","",1,"footer-button","sirh-cancel-btn",3,"click"],[1,"icon-button"],["mat-raised-button","",1,"footer-button","sirh-edit-btn",3,"click"],["mat-raised-button","",1,"footer-button","sirh-delete-btn",3,"click"]],template:function(t,e){1&t&&(s.Zc(0,dt,14,2,"div",0),s.ic(1,"div",1),s.Zc(2,bt,4,3,"div",2),s.hc()),2&t&&(s.Bc("ngIf",e.absence),s.Qb(2),s.Bc("ngIf",e.absence))},directives:[v.n,l.a,g.c,g.b,D.b,y.a,u.c,u.a,g.a],pipes:[o.c,v.e],styles:["#profile[_ngcontent-%COMP%]{height:100%}#profile[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:url(/assets/images/backgrounds/dark-material-bg.jpg) no-repeat 0 45%;background-size:cover;height:70px!important}#profile[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:none;padding:0 16px;margin:0 0 0 8px}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]{height:100%}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   .mat-tab-body-wrapper[_ngcontent-%COMP%]{flex-grow:1}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]{border-radius:4px;overflow:hidden;margin-bottom:16px;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{padding:16px}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:17px}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{cursor:pointer}@media (min-width:800.2px){#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:row;justify-content:space-between}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .second_div[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:45%;margin-top:0}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .first_div[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:45%}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .classInput[_ngcontent-%COMP%]{width:100%}}@media (max-width:800px){#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:row;justify-content:space-between flex-start}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .second_div[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:49%;margin-top:0!important}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .first_div[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:49%}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .classInput[_ngcontent-%COMP%]{width:100%}}@media (max-width:600px){#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:stretch flex-start;padding:16px}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .second_div[_ngcontent-%COMP%]{width:100%;margin-top:0!important}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .classInput[_ngcontent-%COMP%], #profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .first_div[_ngcontent-%COMP%]{width:100%}}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   .secondary-text[_ngcontent-%COMP%]{min-width:100px;text-align:right}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .profile-box[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{padding:8px;border-top:1px solid}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .profile-box.info-box[_ngcontent-%COMP%]   .info-line[_ngcontent-%COMP%]{margin-bottom:24px}#profile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]   #about[_ngcontent-%COMP%]   .about-content[_ngcontent-%COMP%]   .profile-box.info-box[_ngcontent-%COMP%]   .info-line[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:15px;font-weight:600;padding-bottom:4px}.bottom-container-inner[_ngcontent-%COMP%]{z-index:1;height:62px;position:absolute;bottom:0;width:100%;display:flex;flex-direction:row;justify-content:flex-end;align-items:flex-start;background-image:linear-gradient(180deg,rgba(30,33,41,0) 0,rgba(30,33,41,0) 28%,rgba(30,33,41,.65))}@media (max-width:600px){.bottom-container-inner[_ngcontent-%COMP%]{height:36px}}.bottom-buttons-container[_ngcontent-%COMP%]{height:48px;width:auto;display:flex;flex-direction:row;justify-content:center;color:#fff;align-items:center;margin-right:40px}@media (max-width:600px){.bottom-buttons-container[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%,-50%)}}.footer-button[_ngcontent-%COMP%]{padding:1px 10px!important;margin-left:5px}.icon-button[_ngcontent-%COMP%]{font-size:20px}.btn-disabled[_ngcontent-%COMP%]{box-shadow:0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)!important;background-color:rgba(0,0,0,.12)!important;color:rgba(0,0,0,.26)!important}@media (min-width:800px){#profile[_ngcontent-%COMP%]{position:absolute!important}}"]}),t})();var ht=n("ib9X"),ft=n("1yaQ"),Ct=n("H/ii"),mt=n("fu0V");const Mt=[{path:"",component:B},{path:"new",component:et,data:{breadcrumb:"create",id:"create-absence"}},{path:":id/edit",component:et,data:{breadcrumb:"edit",id:"edit-absence"}},{path:":id/view",component:pt,data:{breadcrumb:"view",id:"view-absence"}}];let _t=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.ac({type:t}),t.\u0275inj=s.Zb({providers:[{provide:j.f,useValue:"fr-FR"},{provide:j.e,useValue:Ct.MY_FORMAT},{provide:ft.a,useValue:{useUtc:!0}}],imports:[[c.j.forChild(Mt),mt.a,ht.a,b.s,a.a,o.b]]}),t})()}}]);