(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{T1d0:function(e,r,t){"use strict";t.r(r),t.d(r,"EmployeePersonalInformationsModule",function(){return X});var o=t("f0Cb"),i=t("sYmb"),n=t("5HBU"),s=t("tyNb"),a=t("kmnG"),c=t("bTqV"),d=t("bSwM"),l=t("NFeN"),f=t("qFsG"),m=t("+0xr"),u=t("wZkO"),p=t("3Pt+"),h=t("XNiG"),b=t("PVWW"),w=t("AytR"),g=t("JthR");const x={lang:"fr",data:{infosPerso:{name:"Nom",firstName:"Pr\xe9nom",Profession:"Profession",tel:"Num\xe9ro de t\xe9l\xe9phone",email:"Adresse e-mail",company:"Entreprise",companyAdress:"Adresse entreprise",actuelPassWord:"Mot de passe actuel",newPassWord:"Nouveau mot de passe",edit:"Modifier",requiredFeild:"Champ obligatoire",pswCondition:"Doit contenir au minimum 8 caract\xe8res",pswPatern:"Le mot de passe doit contenir au minimum 8 caract\xe8res, dont une majuscule et un chiffre",pwdDifferent:"Le nouveau mot de passe doit \xeatre different de l'actuel",pwdConfirm:"Confirmation du nouveau mot de passe",identiqueNewPassWords:"Les deux mots de passe doivent \xeatre identiques",cancel:"Annuler",validate:"Valider",majSuccess:"Mise \xe0 jour effectu\xe9e avec succ\xe8s",required:"Veuillez remplir tous les champs correctement",notMentionned:"non renseign\xe9",state:"Wilaya",commune:"Commune",address:"Addresse",titleCard1:"A propos",titleCard2:"Confidentialit\xe9",validatebtn:"Valider",cancelbtn:"Annuler",mdp:"Mot de passe",editbtn:"Modifier"}}},P={lang:"dz",data:{infosPerso:{name:"Nom",firstName:"Pr\xe9nom",Profession:"Profession",tel:"Num\xe9ro de t\xe9l\xe9phone",email:"Adresse e-mail",company:"Entreprise",companyAdress:"Adresse entreprise",actuelPassWord:"Mot de passe actuel",newPassWord:"Nouveau mot de passe",edit:"Modifier",requiredFeild:"Champ obligatoire",pswCondition:"Doit contenir au minimum 8 caract\xe8res",pswPatern:"Le mot de passe doit contenir au minimum 8 caract\xe8res, dont une majuscule et un chiffre",pwdDifferent:"Le nouveau mot de passe doit \xeatre different de l'actuel",pwdConfirm:"Confirmation du nouveau mot de passe",identiqueNewPassWords:"Les deux mots de passe doivent \xeatre identiques",cancel:"Annuler",validate:"Valider",majSuccess:"Mise \xe0 jour effectu\xe9e avec succ\xe8s",required:"Veuillez remplir tous les champs correctement",notMentionned:"non renseign\xe9"}}};var v=t("fXoL"),C=t("DD7I"),y=t("400s"),Q=t("p4AF"),N=t("dTU2"),I=t("gPJw"),k=t("ofXK"),B=t("XiUz");function S(e,r){1&e&&(v.ic(0,"mat-hint",27),v.bd(1),v.vc(2,"translate"),v.hc()),2&e&&(v.Qb(1),v.dd(" ",v.wc(2,1,"infosPerso.requiredFeild"),""))}function q(e,r){1&e&&(v.ic(0,"mat-hint",27),v.bd(1),v.vc(2,"translate"),v.hc()),2&e&&(v.Qb(1),v.dd(" ",v.wc(2,1,"infosPerso.pswCondition")," "))}function A(e,r){1&e&&(v.ic(0,"mat-hint",27),v.bd(1),v.vc(2,"translate"),v.hc()),2&e&&(v.Qb(1),v.dd(" ",v.wc(2,1,"infosPerso.pswPatern")," "))}function L(e,r){1&e&&(v.ic(0,"mat-hint",27),v.bd(1),v.vc(2,"translate"),v.hc()),2&e&&(v.Qb(1),v.dd(" ",v.wc(2,1,"infosPerso.requiredFeild")," "))}function M(e,r){1&e&&(v.ic(0,"mat-hint",27),v.bd(1),v.vc(2,"translate"),v.hc()),2&e&&(v.Qb(1),v.dd(" ",v.wc(2,1,"infosPerso.pswCondition")," "))}function Z(e,r){1&e&&(v.ic(0,"mat-hint",27),v.bd(1),v.vc(2,"translate"),v.hc()),2&e&&(v.Qb(1),v.dd(" ",v.wc(2,1,"infosPerso.pswPatern")," "))}function j(e,r){1&e&&(v.ic(0,"mat-hint",27),v.bd(1),v.vc(2,"translate"),v.hc()),2&e&&(v.Qb(1),v.dd(" ",v.wc(2,1,"infosPerso.pwdDifferent")," "))}function F(e,r){1&e&&(v.ic(0,"mat-hint",27),v.bd(1),v.vc(2,"translate"),v.hc()),2&e&&(v.Qb(1),v.dd(" ",v.wc(2,1,"infosPerso.requiredFeild")," "))}function W(e,r){1&e&&(v.ic(0,"mat-hint",27),v.bd(1),v.vc(2,"translate"),v.hc()),2&e&&(v.Qb(1),v.dd(" ",v.wc(2,1,"infosPerso.pswCondition")," "))}function z(e,r){1&e&&(v.ic(0,"mat-hint",27),v.bd(1),v.vc(2,"translate"),v.hc()),2&e&&(v.Qb(1),v.dd(" ",v.wc(2,1,"infosPerso.identiqueNewPassWords")," "))}function V(e,r){if(1&e){const e=v.jc();v.ic(0,"div",12),v.ic(1,"div",13),v.ic(2,"div",14),v.bd(3),v.vc(4,"translate"),v.hc(),v.ic(5,"div",15),v.ic(6,"div",16),v.ic(7,"mat-form-field",17),v.ic(8,"mat-label"),v.bd(9),v.vc(10,"translate"),v.hc(),v.dc(11,"input",18),v.hc(),v.ic(12,"mat-form-field",17),v.ic(13,"mat-label"),v.bd(14),v.vc(15,"translate"),v.hc(),v.dc(16,"input",18),v.hc(),v.ic(17,"mat-form-field",17),v.ic(18,"mat-label"),v.bd(19),v.vc(20,"translate"),v.hc(),v.dc(21,"input",18),v.hc(),v.ic(22,"mat-form-field",17),v.ic(23,"mat-label"),v.bd(24),v.vc(25,"translate"),v.hc(),v.dc(26,"input",18),v.hc(),v.ic(27,"mat-form-field",17),v.ic(28,"mat-label"),v.bd(29),v.vc(30,"translate"),v.hc(),v.dc(31,"input",18),v.hc(),v.hc(),v.ic(32,"div",19),v.ic(33,"mat-form-field",17),v.ic(34,"mat-label"),v.bd(35),v.vc(36,"translate"),v.hc(),v.dc(37,"input",18),v.hc(),v.ic(38,"mat-form-field",17),v.ic(39,"mat-label"),v.bd(40),v.vc(41,"translate"),v.hc(),v.dc(42,"input",18),v.hc(),v.hc(),v.hc(),v.hc(),v.ic(43,"div",20),v.ic(44,"div",14),v.bd(45),v.vc(46,"translate"),v.hc(),v.ic(47,"div",15),v.ic(48,"div",21),v.ic(49,"mat-form-field",22),v.ic(50,"mat-label"),v.bd(51),v.vc(52,"translate"),v.hc(),v.ic(53,"input",23),v.qc("input",function(){return v.Rc(e),v.uc(2).onNewPass()}),v.hc(),v.ic(54,"mat-icon",24),v.bd(55,"vpn_key"),v.hc(),v.Zc(56,S,3,3,"mat-hint",25),v.Zc(57,q,3,3,"mat-hint",25),v.Zc(58,A,3,3,"mat-hint",25),v.hc(),v.ic(59,"mat-form-field",22),v.ic(60,"mat-label"),v.bd(61),v.vc(62,"translate"),v.hc(),v.ic(63,"input",26),v.qc("input",function(){v.Rc(e);const r=v.uc(2);return r.onNewPass(),r.onConfirmPass()}),v.hc(),v.ic(64,"mat-icon",24),v.bd(65,"vpn_key"),v.hc(),v.Zc(66,L,3,3,"mat-hint",25),v.Zc(67,M,3,3,"mat-hint",25),v.Zc(68,Z,3,3,"mat-hint",25),v.Zc(69,j,3,3,"mat-hint",25),v.hc(),v.ic(70,"mat-form-field",22),v.ic(71,"mat-label"),v.bd(72),v.vc(73,"translate"),v.hc(),v.ic(74,"input",26),v.qc("input",function(){return v.Rc(e),v.uc(2).onConfirmPass()}),v.hc(),v.ic(75,"mat-icon",24),v.bd(76,"vpn_key"),v.hc(),v.Zc(77,F,3,3,"mat-hint",25),v.Zc(78,W,3,3,"mat-hint",25),v.Zc(79,z,3,3,"mat-hint",25),v.hc(),v.hc(),v.hc(),v.hc(),v.hc()}if(2&e){const e=v.uc(2);v.Qb(3),v.dd(" ",v.wc(4,33,"infosPerso.titleCard1")," "),v.Qb(6),v.cd(v.wc(10,35,"infosPerso.name")),v.Qb(2),v.Bc("formControl",e.lastNameControl),v.Qb(3),v.cd(v.wc(15,37,"infosPerso.firstName")),v.Qb(2),v.Bc("formControl",e.firstNameControl),v.Qb(3),v.cd(v.wc(20,39,"infosPerso.Profession")),v.Qb(2),v.Bc("formControl",e.professionControl),v.Qb(3),v.cd(v.wc(25,41,"infosPerso.tel")),v.Qb(2),v.Bc("formControl",e.phoneControl),v.Qb(3),v.cd(v.wc(30,43,"infosPerso.email")),v.Qb(2),v.Bc("formControl",e.emailControl),v.Qb(4),v.cd(v.wc(36,45,"infosPerso.company")),v.Qb(2),v.Bc("formControl",e.enterpriseConrol),v.Qb(3),v.cd(v.wc(41,47,"infosPerso.address")),v.Qb(2),v.Bc("formControl",e.enterpriseAdressControl),v.Qb(3),v.dd(" ",v.wc(46,49,"infosPerso.titleCard2")," "),v.Qb(6),v.cd(v.wc(52,51,"infosPerso.actuelPassWord")),v.Qb(2),v.Bc("type",e.hide?"password":"text")("formControl",e.currentPasswordControl),v.Qb(3),v.Bc("ngIf",(e.currentPasswordControl.dirty||e.currentPasswordControl.touched)&&e.currentPasswordControl.errors&&e.currentPasswordControl.errors.required),v.Qb(1),v.Bc("ngIf",(e.currentPasswordControl.dirty||e.currentPasswordControl.touched)&&e.currentPasswordControl.errors&&e.currentPasswordControl.errors.minlength),v.Qb(1),v.Bc("ngIf",(e.currentPasswordControl.dirty||e.currentPasswordControl.touched)&&e.currentPasswordControl.errors&&e.currentPasswordControl.errors.pattern&&!((e.currentPasswordControl.dirty||e.currentPasswordControl.touched)&&e.currentPasswordControl.errors&&e.currentPasswordControl.errors.minlength)),v.Qb(3),v.cd(v.wc(62,53,"infosPerso.newPassWord")),v.Qb(2),v.Bc("formControl",e.newPasswordConrol),v.Qb(3),v.Bc("ngIf",(e.newPasswordConrol.dirty||e.newPasswordConrol.touched)&&e.newPasswordConrol.errors&&e.newPasswordConrol.errors.required),v.Qb(1),v.Bc("ngIf",(e.newPasswordConrol.dirty||e.newPasswordConrol.touched)&&e.newPasswordConrol.errors&&e.newPasswordConrol.errors.minlength),v.Qb(1),v.Bc("ngIf",(e.newPasswordConrol.dirty||e.newPasswordConrol.touched)&&e.newPasswordConrol.errors&&e.newPasswordConrol.errors.pattern&&!((e.newPasswordConrol.dirty||e.newPasswordConrol.touched)&&e.newPasswordConrol.errors&&e.newPasswordConrol.errors.minlength)),v.Qb(1),v.Bc("ngIf",(e.newPasswordConrol.dirty||e.newPasswordConrol.touched)&&e.noMatch&&!e.required),v.Qb(3),v.cd(v.wc(73,55,"infosPerso.name")),v.Qb(2),v.Bc("formControl",e.newPasswordConfirmConrol),v.Qb(3),v.Bc("ngIf",(e.newPasswordConfirmConrol.dirty||e.newPasswordConfirmConrol.touched)&&e.newPasswordConfirmConrol.errors&&e.newPasswordConfirmConrol.errors.required),v.Qb(1),v.Bc("ngIf",(e.newPasswordConfirmConrol.dirty||e.newPasswordConfirmConrol.touched)&&e.newPasswordConfirmConrol.errors&&e.newPasswordConfirmConrol.errors.minlength),v.Qb(1),v.Bc("ngIf",(e.newPasswordConfirmConrol.dirty||e.newPasswordConfirmConrol.touched)&&e.misMatch&&!e.newPasswordConfirmConrol.errors)}}function D(e,r){if(1&e&&(v.ic(0,"div",29),v.ic(1,"div",30),v.bd(2),v.vc(3,"translate"),v.hc(),v.ic(4,"div",31),v.bd(5),v.hc(),v.hc()),2&e){const e=v.uc(3);v.Qb(2),v.cd(v.wc(3,3,"infosPerso.address")),v.Qb(3),v.ed("",e.user.birthCommune?e.getCommune(e.user.birthCommune)+",":""," ",e.user.birthState?e.getWilaya(e.user.birthState):"","")}}function E(e,r){if(1&e&&(v.ic(0,"div",12),v.ic(1,"div",13),v.ic(2,"div",14),v.bd(3),v.vc(4,"translate"),v.hc(),v.ic(5,"div",15),v.ic(6,"div",28),v.ic(7,"div",29),v.ic(8,"div",30),v.bd(9),v.vc(10,"translate"),v.hc(),v.ic(11,"div",31),v.bd(12),v.vc(13,"translate"),v.hc(),v.hc(),v.ic(14,"div",29),v.ic(15,"div",30),v.bd(16),v.vc(17,"translate"),v.hc(),v.ic(18,"div",31),v.bd(19),v.vc(20,"translate"),v.hc(),v.hc(),v.ic(21,"div",29),v.ic(22,"div",30),v.bd(23),v.vc(24,"translate"),v.hc(),v.ic(25,"div",31),v.bd(26),v.vc(27,"translate"),v.hc(),v.hc(),v.ic(28,"div",29),v.ic(29,"div",30),v.bd(30),v.vc(31,"translate"),v.hc(),v.ic(32,"div",31),v.bd(33),v.vc(34,"translate"),v.hc(),v.hc(),v.ic(35,"div",29),v.ic(36,"div",30),v.bd(37),v.vc(38,"translate"),v.hc(),v.ic(39,"div",31),v.bd(40),v.vc(41,"translate"),v.hc(),v.hc(),v.hc(),v.ic(42,"div",19),v.ic(43,"div",29),v.ic(44,"div",30),v.bd(45),v.vc(46,"translate"),v.hc(),v.ic(47,"div",31),v.bd(48),v.vc(49,"translate"),v.hc(),v.hc(),v.Zc(50,D,6,5,"div",32),v.hc(),v.hc(),v.hc(),v.ic(51,"div",20),v.ic(52,"div",14),v.bd(53),v.vc(54,"translate"),v.hc(),v.ic(55,"div",15),v.ic(56,"div",21),v.ic(57,"div",29),v.ic(58,"div",30),v.bd(59),v.vc(60,"translate"),v.hc(),v.ic(61,"div",31),v.bd(62,"******"),v.hc(),v.hc(),v.hc(),v.hc(),v.hc(),v.hc()),2&e){const e=v.uc(2);v.Qb(3),v.dd(" ",v.wc(4,16,"infosPerso.titleCard1")," "),v.Qb(6),v.dd(" ",v.wc(10,18,"infosPerso.name"),""),v.Qb(3),v.dd("",e.user.lastName?e.user.lastName:v.wc(13,20,"infosPerso.notMentionned")," "),v.Qb(4),v.cd(v.wc(17,22,"infosPerso.firstName")),v.Qb(3),v.cd(e.user.firstName?e.user.firstName:v.wc(20,24,"infosPerso.notMentionned")),v.Qb(4),v.cd(v.wc(24,26,"infosPerso.Profession")),v.Qb(3),v.cd(e.user.savedProfessionName?e.user.savedProfessionName:v.wc(27,28,"infosPerso.notMentionned")),v.Qb(4),v.cd(v.wc(31,30,"infosPerso.tel")),v.Qb(3),v.cd(e.user.phoneNumber?e.formatPhoneNumber(e.user.phoneNumber):v.wc(34,32,"infosPerso.notMentionned")),v.Qb(4),v.cd(v.wc(38,34,"infosPerso.email")),v.Qb(3),v.cd(e.user.email?e.user.email:v.wc(41,36,"infosPerso.notMentionned")),v.Qb(5),v.cd(v.wc(46,38,"infosPerso.company")),v.Qb(3),v.cd(e.user.companyName?e.user.companyName:v.wc(49,40,"infosPerso.notMentionned")),v.Qb(2),v.Bc("ngIf",e.user.birthCommune&&e.user.birthState),v.Qb(3),v.dd(" ",v.wc(54,42,"infosPerso.titleCard2")," "),v.Qb(6),v.cd(v.wc(60,44,"infosPerso.mdp"))}}function T(e,r){if(1&e){const e=v.jc();v.ic(0,"button",33),v.qc("click",function(){return v.Rc(e),v.uc(2).changeToEdit()}),v.ic(1,"mat-icon",34),v.bd(2,"edit"),v.hc(),v.bd(3),v.vc(4,"translate"),v.hc()}2&e&&(v.Qb(3),v.dd("",v.wc(4,1,"infosPerso.editbtn")," "))}function U(e,r){if(1&e){const e=v.jc();v.ic(0,"button",33),v.qc("click",function(){return v.Rc(e),v.uc(2).changePassword()}),v.ic(1,"mat-icon",34),v.bd(2,"check"),v.hc(),v.bd(3),v.vc(4,"translate"),v.hc()}2&e&&(v.Qb(3),v.dd("",v.wc(4,1,"infosPerso.validatebtn")," "))}function R(e,r){if(1&e){const e=v.jc();v.ic(0,"button",35),v.qc("click",function(){return v.Rc(e),v.uc(2).resetForm()}),v.ic(1,"mat-icon",34),v.bd(2,"close"),v.hc(),v.bd(3),v.vc(4,"translate"),v.hc()}2&e&&(v.Qb(3),v.dd("",v.wc(4,1,"infosPerso.cancelbtn")," "))}function O(e,r){if(1&e&&(v.ic(0,"div",1),v.ic(1,"div",2),v.ic(2,"div",3),v.ic(3,"div",4),v.dc(4,"img",5),v.hc(),v.ic(5,"div",6),v.bd(6),v.vc(7,"uppercase"),v.vc(8,"titlecase"),v.hc(),v.hc(),v.hc(),v.Zc(9,V,80,57,"div",7),v.Zc(10,E,63,46,"div",7),v.ic(11,"div",8),v.ic(12,"div",9),v.Zc(13,T,5,3,"button",10),v.Zc(14,U,5,3,"button",10),v.Zc(15,R,5,3,"button",11),v.hc(),v.hc(),v.hc()),2&e){const e=v.uc();v.Qb(4),v.Bc("src",e.user.attachmentId?e.getProfileUrl(e.user.attachmentId):"MR"===e.user.civility?"../../../../assets/images/avatars/profile.jpg":"../../../../assets/images/avatars/women.jpg",v.Tc),v.Qb(2),v.ed(" ",v.wc(7,8,e.user.lastName)," ",v.wc(8,10,e.user.firstName)," "),v.Qb(3),v.Bc("ngIf",e.user&&e.resetPassword),v.Qb(1),v.Bc("ngIf",e.user&&!e.resetPassword),v.Qb(3),v.Bc("ngIf",!e.resetPassword),v.Qb(1),v.Bc("ngIf",e.resetPassword),v.Qb(1),v.Bc("ngIf",e.resetPassword)}}const _=e=>{if(!e.parent||!e)return null;const r=e.parent.get("password"),t=e.parent.get("passwordConfirm");return r&&t?""===t.value||r.value===t.value?null:{passwordsNotMatching:!0}:null},J=[{path:"",component:(()=>{class e{constructor(e,r,t,o,i,n,s,a){this.router=e,this.userSeervice=r,this.authService=t,this.formBuilder=o,this.snackBarService=i,this.refService=n,this.translateService=s,this.fuseLoaderTranslateService=a,this.information=!0,this.resetPassword=!1,this.hide=!0,this.currentPasswordControl=new p.e("",p.t.compose([p.t.minLength(8),p.t.required,p.t.pattern("^(?=.*[0-9]{1})(?=.[a-z]*)(?=.*[A-Z]{1}).*$")])),this.newPasswordConrol=new p.e("",p.t.compose([p.t.required,p.t.pattern("^(?=.*[0-9]{1})(?=.[a-z]*)(?=.*[A-Z]{1}).*$"),p.t.minLength(8)])),this.newPasswordConfirmConrol=new p.e("",p.t.compose([p.t.required,_])),this.lastNameControl=new p.e("",[p.t.required,p.t.minLength(3)]),this.firstNameControl=new p.e("",[p.t.required,p.t.minLength(3)]),this.professionControl=new p.e("",[p.t.required,p.t.minLength(3)]),this.emailControl=new p.e("",[p.t.required,p.t.pattern("^[a-zA-Z0-9.%+-]+@(?:[a-zA-Z0-9-]+\\.)+[a-zA-Z]{2,}$")]),this.phoneControl=new p.e("",[p.t.required,p.t.minLength(10)]),this.enterpriseConrol=new p.e("",[p.t.required,p.t.minLength(3)]),this.enterpriseAdressControl=new p.e("",[p.t.required,p.t.minLength(3)]),this.resetInfosForm=new p.h({lastName:this.lastNameControl,firstName:this.firstNameControl,email:this.emailControl,profession:this.professionControl,phone:this.phoneControl,enterprise:this.enterpriseConrol,enterpriseAdress:this.enterpriseAdressControl}),this.fuseLoaderTranslateService.loadTranslations(x,P),this.unsubscribeAll=new h.a}ngOnInit(){this.getUserInfo()}ngOnDestroy(){this.unsubscribeAll.next(),this.unsubscribeAll.complete()}modifyPassword(){this.resetPassword=!0,this.initResetPasswordForm()}modifyProfile(){this.modifyUserInfo=!0}getUserInfo(){this.userSeervice.getUserInfo().subscribe(e=>{this.user=e;const r=[this.user.commune,this.user.spouseBirthCommune,this.user.establishmentCommune,this.user.passportDeliveryCommune,this.user.nationalIdCardDeliveryCommune,this.user.drivingLicenceDeliveryCommune,this.user.birthCommune];this.refService.getUserWilaya([this.user.state,this.user.spouseBirthState,this.user.establishmentState,this.user.passportDeliveryState,this.user.nationalIdCardDeliveryState,this.user.drivingLicenceDeliveryState,this.user.birthState]).subscribe(e=>{g.a.setWilayas(e)}),this.refService.getUserCommunes(r).subscribe(e=>{g.a.setUserCommunes(e)}),g.a.setEmployeeCompanyId(this.user.companyId),setTimeout(()=>{this.setInfos()},500)})}setInfos(){this.lastNameControl.setValue(this.user.lastName),this.lastNameControl.disable(),this.firstNameControl.setValue(this.user.firstName),this.firstNameControl.disable(),this.emailControl.setValue(this.user.email),this.emailControl.disable(),this.phoneControl.setValue(this.user.phoneNumber),this.phoneControl.disable(),this.professionControl.setValue(this.user.savedProfessionName),this.professionControl.disable(),this.enterpriseConrol.setValue(this.user.companyName),this.enterpriseConrol.disable();const e=g.a.getEmployeeCommune(),r=g.a.getEmployeeWilaya(),t=e.find(e=>e.code===this.user.birthCommune).name+", "+r.find(e=>e.code===this.user.birthState).name;this.enterpriseAdressControl.setValue(t),this.enterpriseAdressControl.disable()}initResetPasswordForm(){this.resetPasswordForm=this.formBuilder.group({currentPassword:this.currentPasswordControl,newPassword:this.newPasswordConrol,newPasswordConfirm:this.newPasswordConfirmConrol},{validators:[this.passwordMatchValidator,this.validateNewConfirmPassword]})}passwordMatchValidator(e){const r=e.get("currentPassword").value+"";return e.get("newPassword").value+""===r&&""!==r?{noMatch:!0}:null}validateNewConfirmPassword(e){return e.get("newPassword").value+""!=e.get("newPasswordConfirm").value+""?{misMatch:!0}:null}onNewPass(){this.noMatch=!!this.resetPasswordForm.errors&&void 0!==this.resetPasswordForm.errors.noMatch,this.required=!!this.resetPasswordForm.errors&&void 0!==this.resetPasswordForm.errors.required}onConfirmPass(){this.misMatch=!!this.resetPasswordForm.errors&&void 0!==this.resetPasswordForm.errors.misMatch}changePassword(){this.resetPasswordForm.valid?this.authService.changePassword({currentPassword:this.currentPasswordControl.value,newPassword:this.newPasswordConrol.value}).subscribe(e=>{this.snackBarService.showSnackBar(this.translateService.instant("infosPerso.majSuccess"),this.snackBarService.succesSnackBarClass),this.resetForm()}):this.snackBarService.showSnackBar(this.translateService.instant("infosPerso.required"),this.snackBarService.errorSnackBarClass)}resetForm(){this.resetPassword=!1}formatPhoneNumber(e){if(e&&!/^[+]|[0-9]$/.test(e.substr(e.length-1,1))&&(e=e.substr(0,e.length-1),this.phoneControl.setValue(e)),e&&e.length>=2){let r;const t=(e=e.replace(/ /g,"")).substr(0,2);let o,i;if("00"===t?e.length>=3&&e.length<5?this.phoneControl.setValue(e.substr(0,2)+" "+e.substr(2,e.length)):(o=Number(e.charAt(5))>=5?e.substr(0,2)+" "+e.substr(2,3)+" "+e.substr(5,1):e.substr(0,2)+" "+e.substr(2,3),i=Number(e.charAt(5))>=5?e.substr(6,e.length):e.substr(5,e.length)):"0"===t.substr(0,1)?(o=Number(e.charAt(1))>=5?e.substr(0,4):e.substr(0,3),i=Number(e.charAt(1))>=5?e.substr(4,e.length):e.substr(3,e.length)):"+"===t.substr(0,1)?(o=Number(e.charAt(4))>=5?e.substr(0,4)+" "+e.substr(4,1):e.substr(0,4),i=Number(e.charAt(4))>=5?e.substr(5,e.length):e.substr(4,e.length)):(o="",i=e),i&&" "!==i.substr(2,1)){let e=0;for(r=i.substr(e,2),e+=2;e<i.length;)r+=" "+i.substr(e,2),e+=2;return o+" "+r}}}getProfileUrl(e){return w.a.ENDPOINTS.EMPLOYEE_ATTACHEMENT_URL+"/"+e}getCommune(e){const r=this.refService.getLocalComune(e);return r?r.name:"/"}getWilaya(e){const r=this.refService.getLocalWilaya(e);return r?r.name:"/"}changeToEdit(){this.resetPassword=!this.resetPassword}}return e.\u0275fac=function(r){return new(r||e)(v.cc(s.g),v.cc(C.a),v.cc(y.a),v.cc(p.d),v.cc(Q.a),v.cc(N.a),v.cc(i.d),v.cc(I.a))},e.\u0275cmp=v.Wb({type:e,selectors:[["app-employee-personal-informations"]],decls:1,vars:1,consts:[["id","profile","class","page-layout blank","fxLayout","column",4,"ngIf"],["id","profile","fxLayout","column",1,"page-layout","blank"],[1,"head"],[1,"sub-head"],[1,"profil-img"],["alt","Ma photo de profil",2,"width","80px","height","80px","object-fit","cover",3,"src"],[1,"fullName"],["class","content p-24","fxLayout","column","fxLayoutAlign","space-between","fxLayout.gt-xs","row",4,"ngIf"],[1,"bottom-container-inner-basic"],[1,"bottom-buttons-container-basic"],["class","footer-button sirh-validate-btn","mat-raised-button","",3,"click",4,"ngIf"],["class","footer-button sirh-cancel-btn","mat-raised-button","",3,"click",4,"ngIf"],["fxLayout","column","fxLayoutAlign","space-between","fxLayout.gt-xs","row",1,"content","p-24"],[1,"card-1"],[1,"card-title"],[2,"display","flex"],[1,"first-div"],["appearance","outline",1,"classInput"],["matInput","",3,"formControl"],[1,"second-div"],[1,"card-2"],["fxLayout","column",1,"first-div",2,"width","100%"],["appearance","outline"],["matInput","","autocomplete","off",3,"type","formControl","input"],["matSuffix","",1,"secondary-text"],["class","mat-error",4,"ngIf"],["matInput","","type","password","autocomplete","off",3,"formControl","input"],[1,"mat-error"],["fxLayout","column",1,"first-div"],[1,"info-line"],[1,"title"],[1,"info"],["class","info-line",4,"ngIf"],["mat-raised-button","",1,"footer-button","sirh-validate-btn",3,"click"],[1,"icon-button"],["mat-raised-button","",1,"footer-button","sirh-cancel-btn",3,"click"]],template:function(e,r){1&e&&v.Zc(0,O,16,12,"div",0),2&e&&v.Bc("ngIf",r.user)},directives:[k.n,B.c,B.b,a.c,a.g,f.b,p.c,p.o,p.f,l.a,a.h,a.f,c.b],pipes:[k.x,k.w,i.c],styles:["#profile .head{height:100px;width:100%;display:inline-block;background:url(/assets/images/backgrounds/dark-material-bg.jpg) no-repeat;background-size:cover}#profile .head .fullName{font-size:25px;font-weight:300;line-height:1;color:#fff}#profile .head .sub-head{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;background-position:50%;background-repeat:no-repeat;transition:all .09s}#profile .head .sub-head .profil-img{height:80px;width:80px;border-radius:100%;background-color:#fff;margin:10px 20px;overflow:hidden}#profile .container1{background:#f5f5f5;height:100%}#profile .container1 button{float:right;margin-right:30px;margin-bottom:20px;width:150px;height:40px;justify-items:center;padding:auto}#profile .container1 .informations{background:#fff;padding:20px;margin:20px;border-radius:5px;display:flex;flex-direction:row;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}@media screen and (max-width:599px){#profile .container1 .informations{margin:15px;padding:20px}}@media screen and (min-width:600px) and (max-width:959px){#profile .container1 .informations{margin:20px;padding:20px}}#profile .container1 .informations h5{font-weight:700;font-size:14px;margin-bottom:5px}#profile .container1 .informations .leftInfos,#profile .container1 .informations .rightInfos{width:45%}#profile .container1 .informations .info{width:100%;margin:13px}#profile .container1 .modifyProfile{background:#f5f5f5;width:100%}#profile .container1 .modifyProfile .leftInfos,#profile .container1 .modifyProfile .rightInfos{width:45%}#profile .container1 .modifyProfile .form-input{width:100%}#profile .container1 .modifyProfile form{background:#fff;width:96%;padding:20px;margin:15px auto auto;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);display:flex;flex-direction:row}@media screen and (max-width:599px){#profile .container1 .modifyProfile form{display:flex;flex-direction:column}}#profile .container1 .modifyProfile form .leftInfos{margin:auto auto auto 10px}#profile .container1 .modifyProfile button{margin-top:10px}@media (max-width:800px){#profile .container1 .modifyProfile .leftInfos,#profile .container1 .modifyProfile .rightInfos{width:49%}#profile .container1 .modifyProfile .form-input{width:100%}#profile .container1 .modifyProfile button{margin:10px}}@media (max-width:700px){#profile .container1 .modifyProfile .leftInfos,#profile .container1 .modifyProfile .rightInfos{width:49%}#profile .container1 .modifyProfile .form-input{width:100%}#profile .container1 .modifyProfile button{margin:10px}}#profile .container1 .conf{border-radius:5px;height:100px;width:95%;background:#fff;margin:25px auto auto;padding:10px;font-weight:600;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}@media screen and (max-width:599px){#profile .container1 .conf{padding:20px;margin:10px auto auto}}@media screen and (min-width:600px) and (max-width:959px){#profile .container1 .conf{width:90%;margin:25px}}#profile .container1 .conf .info-line{margin-top:20px;left:29px;position:relative}#profile .container1 .conf .info-line .title{font-size:15px;font-weight:600;padding-bottom:4px}#profile .container1 .conf .info-line:last-child{margin-bottom:0}#profile .container1 .conf button{float:right;position:relative;margin-right:-5px;margin-left:10px;margin-top:130px;width:100px;justify-items:center}#profile .container1 .conf h3{font-weight:600}#profile .container1 .reset-password{background:#fff;border-radius:5px;margin:20px;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}#profile .container1 .reset-password form{margin:25px;padding:25px 10px 10px}#profile .container1 .reset-password form mat-form-field{width:60%}@media screen and (max-width:599px){#profile .container1 .reset-password form mat-form-field{width:100%}}#profile .container1 .reset-password form mat-form-field button{margin:5px;width:20px}#profile .container1 .reset-password button{width:100px;margin:3px 3px 10px!important}#profile .card-1{width:49%;background-color:#fff;border-radius:5px;border:1px solid #d3d3d3}@media (max-width:600px){#profile .card-1{width:100%}}#profile .card-1 .classInput{width:100%}#profile .card-1 .card-title{padding:5px;margin-left:16px;background-color:#2d3346;color:#fff;width:200px;font-weight:600;margin-top:-15px;border:1px solid #d3d3d3;border-radius:5px;text-align:center}#profile .card-1 .first-div,#profile .card-1 .second-div{padding:16px;width:49%}#profile .card-1 .info-line{margin-bottom:24px}#profile .card-1 .info-line .title{font-size:15px;font-weight:600;padding-bottom:4px}#profile .card-2{width:49%;background-color:#fff;border-radius:5px;border:1px solid #d3d3d3}@media (max-width:600px){#profile .card-2{width:100%;margin-top:18px}}#profile .card-2 .classInput{width:100%}#profile .card-2 .card-title{padding:5px;margin-left:16px;background-color:#2d3346;color:#fff;width:200px;font-weight:600;margin-top:-15px;border:1px solid #d3d3d3;border-radius:5px;text-align:center}#profile .card-2 .first-div,#profile .card-2 .second-div{padding:16px;width:49%}#profile .card-2 .info-line{margin-bottom:24px}#profile .card-2 .info-line .title{font-size:15px;font-weight:600;padding-bottom:4px}@media (max-width:600px){.info-line{margin-top:10px!important}}.footer-button{padding:1px 10px}@media (max-width:505px){.head{position:relative!important;top:-4px!important;height:130px!important}.sub-head{display:flex!important;flex-direction:column!important}.fullName{position:relative!important;top:4px!important}}@media (max-width:370px){.mat-error{font-size:9px!important}}.grecaptcha-badge{opacity:0!important;visibility:hidden!important}.bottom-container-inner-basic{z-index:1;height:62px;position:absolute;bottom:0;width:100%;display:flex;flex-direction:row;justify-content:flex-end;align-items:flex-start;background-image:linear-gradient(180deg,rgba(30,33,41,0) 0,rgba(30,33,41,0) 28%,rgba(30,33,41,.65))}.bottom-buttons-container-basic{height:48px;width:auto;display:flex;flex-direction:row;justify-content:center;color:#fff;align-items:center;margin-right:40px}.footer-button{padding:1px 10px!important;margin-left:5px}.icon-button{font-size:20px}"],encapsulation:2,data:{animation:b.a}}),e})()}];let X=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=v.ac({type:e}),e.\u0275inj=v.Zb({imports:[[s.j.forChild(J),c.c,d.b,p.s,a.e,l.b,f.c,m.a,u.e,o.b,n.a,i.b]]}),e})()}}]);