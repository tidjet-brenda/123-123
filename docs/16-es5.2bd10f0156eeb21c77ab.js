!function(){function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{T1d0:function(t,o,i){"use strict";i.r(o),i.d(o,"EmployeePersonalInformationsModule",function(){return Y});var n=i("f0Cb"),s=i("sYmb"),a=i("5HBU"),c=i("tyNb"),d=i("kmnG"),l=i("bTqV"),f=i("bSwM"),u=i("NFeN"),m=i("qFsG"),p=i("+0xr"),h=i("wZkO"),b=i("3Pt+"),w=i("XNiG"),g=i("PVWW"),v=i("AytR"),x=i("JthR"),P={lang:"fr",data:{infosPerso:{name:"Nom",firstName:"Pr\xe9nom",Profession:"Profession",tel:"Num\xe9ro de t\xe9l\xe9phone",email:"Adresse e-mail",company:"Entreprise",companyAdress:"Adresse entreprise",actuelPassWord:"Mot de passe actuel",newPassWord:"Nouveau mot de passe",edit:"Modifier",requiredFeild:"Champ obligatoire",pswCondition:"Doit contenir au minimum 8 caract\xe8res",pswPatern:"Le mot de passe doit contenir au minimum 8 caract\xe8res, dont une majuscule et un chiffre",pwdDifferent:"Le nouveau mot de passe doit \xeatre different de l'actuel",pwdConfirm:"Confirmation du nouveau mot de passe",identiqueNewPassWords:"Les deux mots de passe doivent \xeatre identiques",cancel:"Annuler",validate:"Valider",majSuccess:"Mise \xe0 jour effectu\xe9e avec succ\xe8s",required:"Veuillez remplir tous les champs correctement",notMentionned:"non renseign\xe9",state:"Wilaya",commune:"Commune",address:"Addresse",titleCard1:"A propos",titleCard2:"Confidentialit\xe9",validatebtn:"Valider",cancelbtn:"Annuler",mdp:"Mot de passe",editbtn:"Modifier"}}},C={lang:"dz",data:{infosPerso:{name:"Nom",firstName:"Pr\xe9nom",Profession:"Profession",tel:"Num\xe9ro de t\xe9l\xe9phone",email:"Adresse e-mail",company:"Entreprise",companyAdress:"Adresse entreprise",actuelPassWord:"Mot de passe actuel",newPassWord:"Nouveau mot de passe",edit:"Modifier",requiredFeild:"Champ obligatoire",pswCondition:"Doit contenir au minimum 8 caract\xe8res",pswPatern:"Le mot de passe doit contenir au minimum 8 caract\xe8res, dont une majuscule et un chiffre",pwdDifferent:"Le nouveau mot de passe doit \xeatre different de l'actuel",pwdConfirm:"Confirmation du nouveau mot de passe",identiqueNewPassWords:"Les deux mots de passe doivent \xeatre identiques",cancel:"Annuler",validate:"Valider",majSuccess:"Mise \xe0 jour effectu\xe9e avec succ\xe8s",required:"Veuillez remplir tous les champs correctement",notMentionned:"non renseign\xe9"}}},y=i("fXoL"),Q=i("DD7I"),N=i("400s"),k=i("p4AF"),I=i("dTU2"),B=i("gPJw"),S=i("ofXK"),q=i("XiUz");function A(e,r){1&e&&(y.ic(0,"mat-hint",27),y.bd(1),y.vc(2,"translate"),y.hc()),2&e&&(y.Qb(1),y.dd(" ",y.wc(2,1,"infosPerso.requiredFeild"),""))}function L(e,r){1&e&&(y.ic(0,"mat-hint",27),y.bd(1),y.vc(2,"translate"),y.hc()),2&e&&(y.Qb(1),y.dd(" ",y.wc(2,1,"infosPerso.pswCondition")," "))}function M(e,r){1&e&&(y.ic(0,"mat-hint",27),y.bd(1),y.vc(2,"translate"),y.hc()),2&e&&(y.Qb(1),y.dd(" ",y.wc(2,1,"infosPerso.pswPatern")," "))}function Z(e,r){1&e&&(y.ic(0,"mat-hint",27),y.bd(1),y.vc(2,"translate"),y.hc()),2&e&&(y.Qb(1),y.dd(" ",y.wc(2,1,"infosPerso.requiredFeild")," "))}function j(e,r){1&e&&(y.ic(0,"mat-hint",27),y.bd(1),y.vc(2,"translate"),y.hc()),2&e&&(y.Qb(1),y.dd(" ",y.wc(2,1,"infosPerso.pswCondition")," "))}function F(e,r){1&e&&(y.ic(0,"mat-hint",27),y.bd(1),y.vc(2,"translate"),y.hc()),2&e&&(y.Qb(1),y.dd(" ",y.wc(2,1,"infosPerso.pswPatern")," "))}function W(e,r){1&e&&(y.ic(0,"mat-hint",27),y.bd(1),y.vc(2,"translate"),y.hc()),2&e&&(y.Qb(1),y.dd(" ",y.wc(2,1,"infosPerso.pwdDifferent")," "))}function z(e,r){1&e&&(y.ic(0,"mat-hint",27),y.bd(1),y.vc(2,"translate"),y.hc()),2&e&&(y.Qb(1),y.dd(" ",y.wc(2,1,"infosPerso.requiredFeild")," "))}function V(e,r){1&e&&(y.ic(0,"mat-hint",27),y.bd(1),y.vc(2,"translate"),y.hc()),2&e&&(y.Qb(1),y.dd(" ",y.wc(2,1,"infosPerso.pswCondition")," "))}function D(e,r){1&e&&(y.ic(0,"mat-hint",27),y.bd(1),y.vc(2,"translate"),y.hc()),2&e&&(y.Qb(1),y.dd(" ",y.wc(2,1,"infosPerso.identiqueNewPassWords")," "))}function E(e,r){if(1&e){var t=y.jc();y.ic(0,"div",12),y.ic(1,"div",13),y.ic(2,"div",14),y.bd(3),y.vc(4,"translate"),y.hc(),y.ic(5,"div",15),y.ic(6,"div",16),y.ic(7,"mat-form-field",17),y.ic(8,"mat-label"),y.bd(9),y.vc(10,"translate"),y.hc(),y.dc(11,"input",18),y.hc(),y.ic(12,"mat-form-field",17),y.ic(13,"mat-label"),y.bd(14),y.vc(15,"translate"),y.hc(),y.dc(16,"input",18),y.hc(),y.ic(17,"mat-form-field",17),y.ic(18,"mat-label"),y.bd(19),y.vc(20,"translate"),y.hc(),y.dc(21,"input",18),y.hc(),y.ic(22,"mat-form-field",17),y.ic(23,"mat-label"),y.bd(24),y.vc(25,"translate"),y.hc(),y.dc(26,"input",18),y.hc(),y.ic(27,"mat-form-field",17),y.ic(28,"mat-label"),y.bd(29),y.vc(30,"translate"),y.hc(),y.dc(31,"input",18),y.hc(),y.hc(),y.ic(32,"div",19),y.ic(33,"mat-form-field",17),y.ic(34,"mat-label"),y.bd(35),y.vc(36,"translate"),y.hc(),y.dc(37,"input",18),y.hc(),y.ic(38,"mat-form-field",17),y.ic(39,"mat-label"),y.bd(40),y.vc(41,"translate"),y.hc(),y.dc(42,"input",18),y.hc(),y.hc(),y.hc(),y.hc(),y.ic(43,"div",20),y.ic(44,"div",14),y.bd(45),y.vc(46,"translate"),y.hc(),y.ic(47,"div",15),y.ic(48,"div",21),y.ic(49,"mat-form-field",22),y.ic(50,"mat-label"),y.bd(51),y.vc(52,"translate"),y.hc(),y.ic(53,"input",23),y.qc("input",function(){return y.Rc(t),y.uc(2).onNewPass()}),y.hc(),y.ic(54,"mat-icon",24),y.bd(55,"vpn_key"),y.hc(),y.Zc(56,A,3,3,"mat-hint",25),y.Zc(57,L,3,3,"mat-hint",25),y.Zc(58,M,3,3,"mat-hint",25),y.hc(),y.ic(59,"mat-form-field",22),y.ic(60,"mat-label"),y.bd(61),y.vc(62,"translate"),y.hc(),y.ic(63,"input",26),y.qc("input",function(){y.Rc(t);var e=y.uc(2);return e.onNewPass(),e.onConfirmPass()}),y.hc(),y.ic(64,"mat-icon",24),y.bd(65,"vpn_key"),y.hc(),y.Zc(66,Z,3,3,"mat-hint",25),y.Zc(67,j,3,3,"mat-hint",25),y.Zc(68,F,3,3,"mat-hint",25),y.Zc(69,W,3,3,"mat-hint",25),y.hc(),y.ic(70,"mat-form-field",22),y.ic(71,"mat-label"),y.bd(72),y.vc(73,"translate"),y.hc(),y.ic(74,"input",26),y.qc("input",function(){return y.Rc(t),y.uc(2).onConfirmPass()}),y.hc(),y.ic(75,"mat-icon",24),y.bd(76,"vpn_key"),y.hc(),y.Zc(77,z,3,3,"mat-hint",25),y.Zc(78,V,3,3,"mat-hint",25),y.Zc(79,D,3,3,"mat-hint",25),y.hc(),y.hc(),y.hc(),y.hc(),y.hc()}if(2&e){var o=y.uc(2);y.Qb(3),y.dd(" ",y.wc(4,33,"infosPerso.titleCard1")," "),y.Qb(6),y.cd(y.wc(10,35,"infosPerso.name")),y.Qb(2),y.Bc("formControl",o.lastNameControl),y.Qb(3),y.cd(y.wc(15,37,"infosPerso.firstName")),y.Qb(2),y.Bc("formControl",o.firstNameControl),y.Qb(3),y.cd(y.wc(20,39,"infosPerso.Profession")),y.Qb(2),y.Bc("formControl",o.professionControl),y.Qb(3),y.cd(y.wc(25,41,"infosPerso.tel")),y.Qb(2),y.Bc("formControl",o.phoneControl),y.Qb(3),y.cd(y.wc(30,43,"infosPerso.email")),y.Qb(2),y.Bc("formControl",o.emailControl),y.Qb(4),y.cd(y.wc(36,45,"infosPerso.company")),y.Qb(2),y.Bc("formControl",o.enterpriseConrol),y.Qb(3),y.cd(y.wc(41,47,"infosPerso.address")),y.Qb(2),y.Bc("formControl",o.enterpriseAdressControl),y.Qb(3),y.dd(" ",y.wc(46,49,"infosPerso.titleCard2")," "),y.Qb(6),y.cd(y.wc(52,51,"infosPerso.actuelPassWord")),y.Qb(2),y.Bc("type",o.hide?"password":"text")("formControl",o.currentPasswordControl),y.Qb(3),y.Bc("ngIf",(o.currentPasswordControl.dirty||o.currentPasswordControl.touched)&&o.currentPasswordControl.errors&&o.currentPasswordControl.errors.required),y.Qb(1),y.Bc("ngIf",(o.currentPasswordControl.dirty||o.currentPasswordControl.touched)&&o.currentPasswordControl.errors&&o.currentPasswordControl.errors.minlength),y.Qb(1),y.Bc("ngIf",(o.currentPasswordControl.dirty||o.currentPasswordControl.touched)&&o.currentPasswordControl.errors&&o.currentPasswordControl.errors.pattern&&!((o.currentPasswordControl.dirty||o.currentPasswordControl.touched)&&o.currentPasswordControl.errors&&o.currentPasswordControl.errors.minlength)),y.Qb(3),y.cd(y.wc(62,53,"infosPerso.newPassWord")),y.Qb(2),y.Bc("formControl",o.newPasswordConrol),y.Qb(3),y.Bc("ngIf",(o.newPasswordConrol.dirty||o.newPasswordConrol.touched)&&o.newPasswordConrol.errors&&o.newPasswordConrol.errors.required),y.Qb(1),y.Bc("ngIf",(o.newPasswordConrol.dirty||o.newPasswordConrol.touched)&&o.newPasswordConrol.errors&&o.newPasswordConrol.errors.minlength),y.Qb(1),y.Bc("ngIf",(o.newPasswordConrol.dirty||o.newPasswordConrol.touched)&&o.newPasswordConrol.errors&&o.newPasswordConrol.errors.pattern&&!((o.newPasswordConrol.dirty||o.newPasswordConrol.touched)&&o.newPasswordConrol.errors&&o.newPasswordConrol.errors.minlength)),y.Qb(1),y.Bc("ngIf",(o.newPasswordConrol.dirty||o.newPasswordConrol.touched)&&o.noMatch&&!o.required),y.Qb(3),y.cd(y.wc(73,55,"infosPerso.name")),y.Qb(2),y.Bc("formControl",o.newPasswordConfirmConrol),y.Qb(3),y.Bc("ngIf",(o.newPasswordConfirmConrol.dirty||o.newPasswordConfirmConrol.touched)&&o.newPasswordConfirmConrol.errors&&o.newPasswordConfirmConrol.errors.required),y.Qb(1),y.Bc("ngIf",(o.newPasswordConfirmConrol.dirty||o.newPasswordConfirmConrol.touched)&&o.newPasswordConfirmConrol.errors&&o.newPasswordConfirmConrol.errors.minlength),y.Qb(1),y.Bc("ngIf",(o.newPasswordConfirmConrol.dirty||o.newPasswordConfirmConrol.touched)&&o.misMatch&&!o.newPasswordConfirmConrol.errors)}}function T(e,r){if(1&e&&(y.ic(0,"div",29),y.ic(1,"div",30),y.bd(2),y.vc(3,"translate"),y.hc(),y.ic(4,"div",31),y.bd(5),y.hc(),y.hc()),2&e){var t=y.uc(3);y.Qb(2),y.cd(y.wc(3,3,"infosPerso.address")),y.Qb(3),y.ed("",t.user.birthCommune?t.getCommune(t.user.birthCommune)+",":""," ",t.user.birthState?t.getWilaya(t.user.birthState):"","")}}function U(e,r){if(1&e&&(y.ic(0,"div",12),y.ic(1,"div",13),y.ic(2,"div",14),y.bd(3),y.vc(4,"translate"),y.hc(),y.ic(5,"div",15),y.ic(6,"div",28),y.ic(7,"div",29),y.ic(8,"div",30),y.bd(9),y.vc(10,"translate"),y.hc(),y.ic(11,"div",31),y.bd(12),y.vc(13,"translate"),y.hc(),y.hc(),y.ic(14,"div",29),y.ic(15,"div",30),y.bd(16),y.vc(17,"translate"),y.hc(),y.ic(18,"div",31),y.bd(19),y.vc(20,"translate"),y.hc(),y.hc(),y.ic(21,"div",29),y.ic(22,"div",30),y.bd(23),y.vc(24,"translate"),y.hc(),y.ic(25,"div",31),y.bd(26),y.vc(27,"translate"),y.hc(),y.hc(),y.ic(28,"div",29),y.ic(29,"div",30),y.bd(30),y.vc(31,"translate"),y.hc(),y.ic(32,"div",31),y.bd(33),y.vc(34,"translate"),y.hc(),y.hc(),y.ic(35,"div",29),y.ic(36,"div",30),y.bd(37),y.vc(38,"translate"),y.hc(),y.ic(39,"div",31),y.bd(40),y.vc(41,"translate"),y.hc(),y.hc(),y.hc(),y.ic(42,"div",19),y.ic(43,"div",29),y.ic(44,"div",30),y.bd(45),y.vc(46,"translate"),y.hc(),y.ic(47,"div",31),y.bd(48),y.vc(49,"translate"),y.hc(),y.hc(),y.Zc(50,T,6,5,"div",32),y.hc(),y.hc(),y.hc(),y.ic(51,"div",20),y.ic(52,"div",14),y.bd(53),y.vc(54,"translate"),y.hc(),y.ic(55,"div",15),y.ic(56,"div",21),y.ic(57,"div",29),y.ic(58,"div",30),y.bd(59),y.vc(60,"translate"),y.hc(),y.ic(61,"div",31),y.bd(62,"******"),y.hc(),y.hc(),y.hc(),y.hc(),y.hc(),y.hc()),2&e){var t=y.uc(2);y.Qb(3),y.dd(" ",y.wc(4,16,"infosPerso.titleCard1")," "),y.Qb(6),y.dd(" ",y.wc(10,18,"infosPerso.name"),""),y.Qb(3),y.dd("",t.user.lastName?t.user.lastName:y.wc(13,20,"infosPerso.notMentionned")," "),y.Qb(4),y.cd(y.wc(17,22,"infosPerso.firstName")),y.Qb(3),y.cd(t.user.firstName?t.user.firstName:y.wc(20,24,"infosPerso.notMentionned")),y.Qb(4),y.cd(y.wc(24,26,"infosPerso.Profession")),y.Qb(3),y.cd(t.user.savedProfessionName?t.user.savedProfessionName:y.wc(27,28,"infosPerso.notMentionned")),y.Qb(4),y.cd(y.wc(31,30,"infosPerso.tel")),y.Qb(3),y.cd(t.user.phoneNumber?t.formatPhoneNumber(t.user.phoneNumber):y.wc(34,32,"infosPerso.notMentionned")),y.Qb(4),y.cd(y.wc(38,34,"infosPerso.email")),y.Qb(3),y.cd(t.user.email?t.user.email:y.wc(41,36,"infosPerso.notMentionned")),y.Qb(5),y.cd(y.wc(46,38,"infosPerso.company")),y.Qb(3),y.cd(t.user.companyName?t.user.companyName:y.wc(49,40,"infosPerso.notMentionned")),y.Qb(2),y.Bc("ngIf",t.user.birthCommune&&t.user.birthState),y.Qb(3),y.dd(" ",y.wc(54,42,"infosPerso.titleCard2")," "),y.Qb(6),y.cd(y.wc(60,44,"infosPerso.mdp"))}}function R(e,r){if(1&e){var t=y.jc();y.ic(0,"button",33),y.qc("click",function(){return y.Rc(t),y.uc(2).changeToEdit()}),y.ic(1,"mat-icon",34),y.bd(2,"edit"),y.hc(),y.bd(3),y.vc(4,"translate"),y.hc()}2&e&&(y.Qb(3),y.dd("",y.wc(4,1,"infosPerso.editbtn")," "))}function O(e,r){if(1&e){var t=y.jc();y.ic(0,"button",33),y.qc("click",function(){return y.Rc(t),y.uc(2).changePassword()}),y.ic(1,"mat-icon",34),y.bd(2,"check"),y.hc(),y.bd(3),y.vc(4,"translate"),y.hc()}2&e&&(y.Qb(3),y.dd("",y.wc(4,1,"infosPerso.validatebtn")," "))}function _(e,r){if(1&e){var t=y.jc();y.ic(0,"button",35),y.qc("click",function(){return y.Rc(t),y.uc(2).resetForm()}),y.ic(1,"mat-icon",34),y.bd(2,"close"),y.hc(),y.bd(3),y.vc(4,"translate"),y.hc()}2&e&&(y.Qb(3),y.dd("",y.wc(4,1,"infosPerso.cancelbtn")," "))}function J(e,r){if(1&e&&(y.ic(0,"div",1),y.ic(1,"div",2),y.ic(2,"div",3),y.ic(3,"div",4),y.dc(4,"img",5),y.hc(),y.ic(5,"div",6),y.bd(6),y.vc(7,"uppercase"),y.vc(8,"titlecase"),y.hc(),y.hc(),y.hc(),y.Zc(9,E,80,57,"div",7),y.Zc(10,U,63,46,"div",7),y.ic(11,"div",8),y.ic(12,"div",9),y.Zc(13,R,5,3,"button",10),y.Zc(14,O,5,3,"button",10),y.Zc(15,_,5,3,"button",11),y.hc(),y.hc(),y.hc()),2&e){var t=y.uc();y.Qb(4),y.Bc("src",t.user.attachmentId?t.getProfileUrl(t.user.attachmentId):"MR"===t.user.civility?"../../../../assets/images/avatars/profile.jpg":"../../../../assets/images/avatars/women.jpg",y.Tc),y.Qb(2),y.ed(" ",y.wc(7,8,t.user.lastName)," ",y.wc(8,10,t.user.firstName)," "),y.Qb(3),y.Bc("ngIf",t.user&&t.resetPassword),y.Qb(1),y.Bc("ngIf",t.user&&!t.resetPassword),y.Qb(3),y.Bc("ngIf",!t.resetPassword),y.Qb(1),y.Bc("ngIf",t.resetPassword),y.Qb(1),y.Bc("ngIf",t.resetPassword)}}var X,$,G=function(e){if(!e.parent||!e)return null;var r=e.parent.get("password"),t=e.parent.get("passwordConfirm");return r&&t?""===t.value||r.value===t.value?null:{passwordsNotMatching:!0}:null},H=[{path:"",component:(X=function(){function t(r,o,i,n,s,a,c,d){e(this,t),this.router=r,this.userSeervice=o,this.authService=i,this.formBuilder=n,this.snackBarService=s,this.refService=a,this.translateService=c,this.fuseLoaderTranslateService=d,this.information=!0,this.resetPassword=!1,this.hide=!0,this.currentPasswordControl=new b.e("",b.t.compose([b.t.minLength(8),b.t.required,b.t.pattern("^(?=.*[0-9]{1})(?=.[a-z]*)(?=.*[A-Z]{1}).*$")])),this.newPasswordConrol=new b.e("",b.t.compose([b.t.required,b.t.pattern("^(?=.*[0-9]{1})(?=.[a-z]*)(?=.*[A-Z]{1}).*$"),b.t.minLength(8)])),this.newPasswordConfirmConrol=new b.e("",b.t.compose([b.t.required,G])),this.lastNameControl=new b.e("",[b.t.required,b.t.minLength(3)]),this.firstNameControl=new b.e("",[b.t.required,b.t.minLength(3)]),this.professionControl=new b.e("",[b.t.required,b.t.minLength(3)]),this.emailControl=new b.e("",[b.t.required,b.t.pattern("^[a-zA-Z0-9.%+-]+@(?:[a-zA-Z0-9-]+\\.)+[a-zA-Z]{2,}$")]),this.phoneControl=new b.e("",[b.t.required,b.t.minLength(10)]),this.enterpriseConrol=new b.e("",[b.t.required,b.t.minLength(3)]),this.enterpriseAdressControl=new b.e("",[b.t.required,b.t.minLength(3)]),this.resetInfosForm=new b.h({lastName:this.lastNameControl,firstName:this.firstNameControl,email:this.emailControl,profession:this.professionControl,phone:this.phoneControl,enterprise:this.enterpriseConrol,enterpriseAdress:this.enterpriseAdressControl}),this.fuseLoaderTranslateService.loadTranslations(P,C),this.unsubscribeAll=new w.a}var o,i,n;return o=t,(i=[{key:"ngOnInit",value:function(){this.getUserInfo()}},{key:"ngOnDestroy",value:function(){this.unsubscribeAll.next(),this.unsubscribeAll.complete()}},{key:"modifyPassword",value:function(){this.resetPassword=!0,this.initResetPasswordForm()}},{key:"modifyProfile",value:function(){this.modifyUserInfo=!0}},{key:"getUserInfo",value:function(){var e=this;this.userSeervice.getUserInfo().subscribe(function(r){e.user=r;var t=[e.user.commune,e.user.spouseBirthCommune,e.user.establishmentCommune,e.user.passportDeliveryCommune,e.user.nationalIdCardDeliveryCommune,e.user.drivingLicenceDeliveryCommune,e.user.birthCommune];e.refService.getUserWilaya([e.user.state,e.user.spouseBirthState,e.user.establishmentState,e.user.passportDeliveryState,e.user.nationalIdCardDeliveryState,e.user.drivingLicenceDeliveryState,e.user.birthState]).subscribe(function(e){x.a.setWilayas(e)}),e.refService.getUserCommunes(t).subscribe(function(e){x.a.setUserCommunes(e)}),x.a.setEmployeeCompanyId(e.user.companyId),setTimeout(function(){e.setInfos()},500)})}},{key:"setInfos",value:function(){var e=this;this.lastNameControl.setValue(this.user.lastName),this.lastNameControl.disable(),this.firstNameControl.setValue(this.user.firstName),this.firstNameControl.disable(),this.emailControl.setValue(this.user.email),this.emailControl.disable(),this.phoneControl.setValue(this.user.phoneNumber),this.phoneControl.disable(),this.professionControl.setValue(this.user.savedProfessionName),this.professionControl.disable(),this.enterpriseConrol.setValue(this.user.companyName),this.enterpriseConrol.disable();var r=x.a.getEmployeeCommune(),t=x.a.getEmployeeWilaya(),o=r.find(function(r){return r.code===e.user.birthCommune}).name+", "+t.find(function(r){return r.code===e.user.birthState}).name;this.enterpriseAdressControl.setValue(o),this.enterpriseAdressControl.disable()}},{key:"initResetPasswordForm",value:function(){this.resetPasswordForm=this.formBuilder.group({currentPassword:this.currentPasswordControl,newPassword:this.newPasswordConrol,newPasswordConfirm:this.newPasswordConfirmConrol},{validators:[this.passwordMatchValidator,this.validateNewConfirmPassword]})}},{key:"passwordMatchValidator",value:function(e){var r=e.get("currentPassword").value+"";return e.get("newPassword").value+""===r&&""!==r?{noMatch:!0}:null}},{key:"validateNewConfirmPassword",value:function(e){return e.get("newPassword").value+""!=e.get("newPasswordConfirm").value+""?{misMatch:!0}:null}},{key:"onNewPass",value:function(){this.noMatch=!!this.resetPasswordForm.errors&&void 0!==this.resetPasswordForm.errors.noMatch,this.required=!!this.resetPasswordForm.errors&&void 0!==this.resetPasswordForm.errors.required}},{key:"onConfirmPass",value:function(){this.misMatch=!!this.resetPasswordForm.errors&&void 0!==this.resetPasswordForm.errors.misMatch}},{key:"changePassword",value:function(){var e=this;this.resetPasswordForm.valid?this.authService.changePassword({currentPassword:this.currentPasswordControl.value,newPassword:this.newPasswordConrol.value}).subscribe(function(r){e.snackBarService.showSnackBar(e.translateService.instant("infosPerso.majSuccess"),e.snackBarService.succesSnackBarClass),e.resetForm()}):this.snackBarService.showSnackBar(this.translateService.instant("infosPerso.required"),this.snackBarService.errorSnackBarClass)}},{key:"resetForm",value:function(){this.resetPassword=!1}},{key:"formatPhoneNumber",value:function(e){if(e&&!/^[+]|[0-9]$/.test(e.substr(e.length-1,1))&&(e=e.substr(0,e.length-1),this.phoneControl.setValue(e)),e&&e.length>=2){var r,t,o,i=(e=e.replace(/ /g,"")).substr(0,2);if("00"===i?e.length>=3&&e.length<5?this.phoneControl.setValue(e.substr(0,2)+" "+e.substr(2,e.length)):(t=Number(e.charAt(5))>=5?e.substr(0,2)+" "+e.substr(2,3)+" "+e.substr(5,1):e.substr(0,2)+" "+e.substr(2,3),o=Number(e.charAt(5))>=5?e.substr(6,e.length):e.substr(5,e.length)):"0"===i.substr(0,1)?(t=Number(e.charAt(1))>=5?e.substr(0,4):e.substr(0,3),o=Number(e.charAt(1))>=5?e.substr(4,e.length):e.substr(3,e.length)):"+"===i.substr(0,1)?(t=Number(e.charAt(4))>=5?e.substr(0,4)+" "+e.substr(4,1):e.substr(0,4),o=Number(e.charAt(4))>=5?e.substr(5,e.length):e.substr(4,e.length)):(t="",o=e),o&&" "!==o.substr(2,1)){var n=0;for(r=o.substr(n,2),n+=2;n<o.length;)r+=" "+o.substr(n,2),n+=2;return t+" "+r}}}},{key:"getProfileUrl",value:function(e){return v.a.ENDPOINTS.EMPLOYEE_ATTACHEMENT_URL+"/"+e}},{key:"getCommune",value:function(e){var r=this.refService.getLocalComune(e);return r?r.name:"/"}},{key:"getWilaya",value:function(e){var r=this.refService.getLocalWilaya(e);return r?r.name:"/"}},{key:"changeToEdit",value:function(){this.resetPassword=!this.resetPassword}}])&&r(o.prototype,i),n&&r(o,n),t}(),X.\u0275fac=function(e){return new(e||X)(y.cc(c.g),y.cc(Q.a),y.cc(N.a),y.cc(b.d),y.cc(k.a),y.cc(I.a),y.cc(s.d),y.cc(B.a))},X.\u0275cmp=y.Wb({type:X,selectors:[["app-employee-personal-informations"]],decls:1,vars:1,consts:[["id","profile","class","page-layout blank","fxLayout","column",4,"ngIf"],["id","profile","fxLayout","column",1,"page-layout","blank"],[1,"head"],[1,"sub-head"],[1,"profil-img"],["alt","Ma photo de profil",2,"width","80px","height","80px","object-fit","cover",3,"src"],[1,"fullName"],["class","content p-24","fxLayout","column","fxLayoutAlign","space-between","fxLayout.gt-xs","row",4,"ngIf"],[1,"bottom-container-inner-basic"],[1,"bottom-buttons-container-basic"],["class","footer-button sirh-validate-btn","mat-raised-button","",3,"click",4,"ngIf"],["class","footer-button sirh-cancel-btn","mat-raised-button","",3,"click",4,"ngIf"],["fxLayout","column","fxLayoutAlign","space-between","fxLayout.gt-xs","row",1,"content","p-24"],[1,"card-1"],[1,"card-title"],[2,"display","flex"],[1,"first-div"],["appearance","outline",1,"classInput"],["matInput","",3,"formControl"],[1,"second-div"],[1,"card-2"],["fxLayout","column",1,"first-div",2,"width","100%"],["appearance","outline"],["matInput","","autocomplete","off",3,"type","formControl","input"],["matSuffix","",1,"secondary-text"],["class","mat-error",4,"ngIf"],["matInput","","type","password","autocomplete","off",3,"formControl","input"],[1,"mat-error"],["fxLayout","column",1,"first-div"],[1,"info-line"],[1,"title"],[1,"info"],["class","info-line",4,"ngIf"],["mat-raised-button","",1,"footer-button","sirh-validate-btn",3,"click"],[1,"icon-button"],["mat-raised-button","",1,"footer-button","sirh-cancel-btn",3,"click"]],template:function(e,r){1&e&&y.Zc(0,J,16,12,"div",0),2&e&&y.Bc("ngIf",r.user)},directives:[S.n,q.c,q.b,d.c,d.g,m.b,b.c,b.o,b.f,u.a,d.h,d.f,l.b],pipes:[S.x,S.w,s.c],styles:["#profile .head{height:100px;width:100%;display:inline-block;background:url(/assets/images/backgrounds/dark-material-bg.jpg) no-repeat;background-size:cover}#profile .head .fullName{font-size:25px;font-weight:300;line-height:1;color:#fff}#profile .head .sub-head{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;background-position:50%;background-repeat:no-repeat;transition:all .09s}#profile .head .sub-head .profil-img{height:80px;width:80px;border-radius:100%;background-color:#fff;margin:10px 20px;overflow:hidden}#profile .container1{background:#f5f5f5;height:100%}#profile .container1 button{float:right;margin-right:30px;margin-bottom:20px;width:150px;height:40px;justify-items:center;padding:auto}#profile .container1 .informations{background:#fff;padding:20px;margin:20px;border-radius:5px;display:flex;flex-direction:row;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}@media screen and (max-width:599px){#profile .container1 .informations{margin:15px;padding:20px}}@media screen and (min-width:600px) and (max-width:959px){#profile .container1 .informations{margin:20px;padding:20px}}#profile .container1 .informations h5{font-weight:700;font-size:14px;margin-bottom:5px}#profile .container1 .informations .leftInfos,#profile .container1 .informations .rightInfos{width:45%}#profile .container1 .informations .info{width:100%;margin:13px}#profile .container1 .modifyProfile{background:#f5f5f5;width:100%}#profile .container1 .modifyProfile .leftInfos,#profile .container1 .modifyProfile .rightInfos{width:45%}#profile .container1 .modifyProfile .form-input{width:100%}#profile .container1 .modifyProfile form{background:#fff;width:96%;padding:20px;margin:15px auto auto;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);display:flex;flex-direction:row}@media screen and (max-width:599px){#profile .container1 .modifyProfile form{display:flex;flex-direction:column}}#profile .container1 .modifyProfile form .leftInfos{margin:auto auto auto 10px}#profile .container1 .modifyProfile button{margin-top:10px}@media (max-width:800px){#profile .container1 .modifyProfile .leftInfos,#profile .container1 .modifyProfile .rightInfos{width:49%}#profile .container1 .modifyProfile .form-input{width:100%}#profile .container1 .modifyProfile button{margin:10px}}@media (max-width:700px){#profile .container1 .modifyProfile .leftInfos,#profile .container1 .modifyProfile .rightInfos{width:49%}#profile .container1 .modifyProfile .form-input{width:100%}#profile .container1 .modifyProfile button{margin:10px}}#profile .container1 .conf{border-radius:5px;height:100px;width:95%;background:#fff;margin:25px auto auto;padding:10px;font-weight:600;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}@media screen and (max-width:599px){#profile .container1 .conf{padding:20px;margin:10px auto auto}}@media screen and (min-width:600px) and (max-width:959px){#profile .container1 .conf{width:90%;margin:25px}}#profile .container1 .conf .info-line{margin-top:20px;left:29px;position:relative}#profile .container1 .conf .info-line .title{font-size:15px;font-weight:600;padding-bottom:4px}#profile .container1 .conf .info-line:last-child{margin-bottom:0}#profile .container1 .conf button{float:right;position:relative;margin-right:-5px;margin-left:10px;margin-top:130px;width:100px;justify-items:center}#profile .container1 .conf h3{font-weight:600}#profile .container1 .reset-password{background:#fff;border-radius:5px;margin:20px;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}#profile .container1 .reset-password form{margin:25px;padding:25px 10px 10px}#profile .container1 .reset-password form mat-form-field{width:60%}@media screen and (max-width:599px){#profile .container1 .reset-password form mat-form-field{width:100%}}#profile .container1 .reset-password form mat-form-field button{margin:5px;width:20px}#profile .container1 .reset-password button{width:100px;margin:3px 3px 10px!important}#profile .card-1{width:49%;background-color:#fff;border-radius:5px;border:1px solid #d3d3d3}@media (max-width:600px){#profile .card-1{width:100%}}#profile .card-1 .classInput{width:100%}#profile .card-1 .card-title{padding:5px;margin-left:16px;background-color:#2d3346;color:#fff;width:200px;font-weight:600;margin-top:-15px;border:1px solid #d3d3d3;border-radius:5px;text-align:center}#profile .card-1 .first-div,#profile .card-1 .second-div{padding:16px;width:49%}#profile .card-1 .info-line{margin-bottom:24px}#profile .card-1 .info-line .title{font-size:15px;font-weight:600;padding-bottom:4px}#profile .card-2{width:49%;background-color:#fff;border-radius:5px;border:1px solid #d3d3d3}@media (max-width:600px){#profile .card-2{width:100%;margin-top:18px}}#profile .card-2 .classInput{width:100%}#profile .card-2 .card-title{padding:5px;margin-left:16px;background-color:#2d3346;color:#fff;width:200px;font-weight:600;margin-top:-15px;border:1px solid #d3d3d3;border-radius:5px;text-align:center}#profile .card-2 .first-div,#profile .card-2 .second-div{padding:16px;width:49%}#profile .card-2 .info-line{margin-bottom:24px}#profile .card-2 .info-line .title{font-size:15px;font-weight:600;padding-bottom:4px}@media (max-width:600px){.info-line{margin-top:10px!important}}.footer-button{padding:1px 10px}@media (max-width:505px){.head{position:relative!important;top:-4px!important;height:130px!important}.sub-head{display:flex!important;flex-direction:column!important}.fullName{position:relative!important;top:4px!important}}@media (max-width:370px){.mat-error{font-size:9px!important}}.grecaptcha-badge{opacity:0!important;visibility:hidden!important}.bottom-container-inner-basic{z-index:1;height:62px;position:absolute;bottom:0;width:100%;display:flex;flex-direction:row;justify-content:flex-end;align-items:flex-start;background-image:linear-gradient(180deg,rgba(30,33,41,0) 0,rgba(30,33,41,0) 28%,rgba(30,33,41,.65))}.bottom-buttons-container-basic{height:48px;width:auto;display:flex;flex-direction:row;justify-content:center;color:#fff;align-items:center;margin-right:40px}.footer-button{padding:1px 10px!important;margin-left:5px}.icon-button{font-size:20px}"],encapsulation:2,data:{animation:g.a}}),X)}],Y=(($=function r(){e(this,r)}).\u0275fac=function(e){return new(e||$)},$.\u0275mod=y.ac({type:$}),$.\u0275inj=y.Zb({imports:[[c.j.forChild(H),l.c,f.b,b.s,d.e,u.b,m.c,p.a,h.e,n.b,a.a,s.b]]}),$)}}])}();